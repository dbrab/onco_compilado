"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[722],{1722:(J,d,o)=>{o.r(d),o.d(d,{TumorLineageModule:()=>F});var g=o(9808),c=o(325),T=o(3075),p=o(6087),h=o(4850),l=o(2986),v=o(303),e=o(5e3),f=o(2730),L=o(8966),u=o(9224),C=o(7423),S=o(5245),Z=o(953),y=o(3160);const A=function(){return[20,50,100]},b=[{path:"",component:(()=>{class a{constructor(t,n){this.tumorLineageService=t,this.dialog=n,this.columns=[{title:"Nombre",col:"name"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.tumorLineageService.resultItems$}ngOnInit(){this.getTumorLineages(this.pageDefault,this.perPage,this.filter,this.orden)}paginatorChange(t){this.getTumorLineages(t.pageIndex+1,t.pageSize)}getTumorLineages(t,n,i,r){this.subscroption=this.tumorLineageService.getTumorLineages(t,n,i,r).subscribe(m=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,h.U)(t=>t.data.data.map(i=>({id:i.id,name:i.name})))),this.totalResut=this.result.pipe((0,h.U)(t=>t.data.total))}search(t){this.getTumorLineages(this.pageDefault,this.perPage,t,this.orden)}deleteItem(t){return this.tumorLineageService.deleteTumorLineage(t)}itemAction(t){"delete"===t.action&&this.deleteItem(t.element.id).pipe((0,l.q)(1)).subscribe(),"edit"===t.action&&this.openDialog("Edita Estirpe Tumoral",t.element)}openDialog(t="Agrega Estirpe Tumoral",n){const i={title:t,data:this.setFields(n)};return this.dialog.open(v.Q,{width:"550px",data:i}).afterClosed().subscribe(m=>{m&&(m.id?this.updateTumorLineage(m):this.storeTumorLineage(m))})}updateTumorLineage(t){this.tumorLineageService.updateTumorLineage(t).pipe((0,l.q)(1)).subscribe()}storeTumorLineage(t){this.tumorLineageService.storeTumorLineage(t).pipe((0,l.q)(1)).subscribe(n=>{})}setFields(t){return[{nameControl:"id",type:"hidden",value:null==t?void 0:t.id,label:"Id"},{nameControl:"name",type:"text",value:null==t?void 0:t.name,validators:[T.kI.required],label:"Nombre",class:"mvd-col1--1"}]}ngOnDestroy(){this.subscroption.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f.y),e.Y36(L.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mvd-tumor-lineage"]],viewQuery:function(t,n){if(1&t&&e.Gf(p.NW,7),2&t){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first)}},decls:19,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Estirpes Tumorales"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"Administrar Estirpes Tumorales"),e.qZA(),e.TgZ(6,"div",1)(7,"button",2),e.NdJ("click",function(){return n.openDialog()}),e.TgZ(8,"mat-icon",3),e._uU(9,"add"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Crear"),e.qZA()()(),e.TgZ(12,"mvd-input-search",4),e.NdJ("changeSearch",function(r){return n.search(r)}),e.qZA()(),e.TgZ(13,"mat-card-content")(14,"mvd-data-table",5),e.NdJ("actionChange",function(r){return n.itemAction(r)}),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"mat-paginator",6),e.NdJ("page",function(r){return n.paginatorChange(r)}),e.ALo(17,"async"),e.qZA()(),e._UZ(18,"span",7),e.qZA()),2&t&&(e.xp6(12),e.Q6J("noteFilterBy","Filtra por Nombre"),e.xp6(2),e.Q6J("columns",n.columns)("dataSource",e.lcZ(15,6,n.dataSource)),e.xp6(2),e.Q6J("length",e.lcZ(17,8,n.totalResut))("pageSize",n.perPage)("pageSizeOptions",e.DdM(10,A)))},directives:[u.a8,u.dk,u.n5,u.$j,C.lW,S.Hw,Z.V,u.dn,y.Q,p.NW],pipes:[g.Ov],styles:[""]}),a})()}];let D=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[c.Bz.forChild(b)],c.Bz]}),a})();var z=o(8203);let F=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[g.ez,D,z.m]]}),a})()}}]);