"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[794],{3794:(z,l,a)=>{a.r(l),a.d(l,{CitiesModule:()=>b});var d=a(9808),u=a(325),m=a(6087),p=a(4850),h=a(2986),t=a(5e3),g=a(3582),c=a(9224),C=a(7423),f=a(5245),v=a(953),Z=a(3160);const S=function(){return[20,50,100]},y=[{path:"",component:(()=>{class i{constructor(e){this.locationService=e,this.columns=[{title:"id",col:"id"},{title:"Nombre",col:"name"},{title:"Coordenadas",col:"code"},{title:"Departamento ",col:"state"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.locationService.resultItems$}paginatorChange(e){this.getCities(e.pageIndex+1,e.pageSize)}ngOnInit(){this.getCities(this.pageDefault,this.perPage,this.filter,this.orden)}getCities(e,n,o,r){this.subcription=this.locationService.getItems(e,n,o,r,"cities").subscribe(M=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,p.U)(e=>e.data.data.map(o=>({id:o.id,code:o.code,name:o.name,state:o.state.name,state_id:o.state.id,country_id:o.state.country.id})))),this.totalResut=this.result.pipe((0,p.U)(e=>e.data.total))}search(e){this.getCities(this.pageDefault,this.perPage,e,this.orden)}openDialog(e){this.locationService.openDialog("cities",e)}itemAction(e){"delete"===e.action&&this.deleteItem(e.element.id).pipe((0,h.q)(1)).subscribe(),"edit"===e.action&&this.openDialog(e.element)}deleteItem(e){return this.locationService.deleteLocation(e,"cities")}ngOnDestroy(){this.subcription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.a))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mvd-cities"]],viewQuery:function(e,n){if(1&e&&t.Gf(m.NW,7),2&e){let o;t.iGM(o=t.CRH())&&(n.paginator=o.first)}},decls:23,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],["mat-flat-button","","color","","disabled","",1,"btn-simple"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Ciudades"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Administrar Ciudad"),t.qZA(),t.TgZ(6,"div",1)(7,"button",2),t.NdJ("click",function(){return n.openDialog()}),t.TgZ(8,"mat-icon",3),t._uU(9,"add"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Crear"),t.qZA()(),t.TgZ(12,"button",4)(13,"mat-icon",3),t._uU(14,"save_alt"),t.qZA(),t._uU(15," Exportar "),t.qZA()(),t.TgZ(16,"mvd-input-search",5),t.NdJ("changeSearch",function(r){return n.search(r)}),t.qZA()(),t.TgZ(17,"mat-card-content")(18,"mvd-data-table",6),t.NdJ("actionChange",function(r){return n.itemAction(r)}),t.ALo(19,"async"),t.qZA(),t.TgZ(20,"mat-paginator",7),t.NdJ("page",function(r){return n.paginatorChange(r)}),t.ALo(21,"async"),t.qZA()(),t._UZ(22,"span",8),t.qZA()),2&e&&(t.xp6(16),t.Q6J("noteFilterBy","Filtra por Nombre, Id o Coordenadas"),t.xp6(2),t.Q6J("columns",n.columns)("dataSource",t.lcZ(19,6,n.dataSource)),t.xp6(2),t.Q6J("length",t.lcZ(21,8,n.totalResut))("pageSize",n.perPage)("pageSizeOptions",t.DdM(10,S)))},directives:[c.a8,c.dk,c.n5,c.$j,C.lW,f.Hw,v.V,c.dn,Z.Q,m.NW],pipes:[d.Ov],styles:[""]}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forChild(y)],u.Bz]}),i})();var T=a(8203);let b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[d.ez,A,T.m]]}),i})()}}]);