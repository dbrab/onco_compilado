"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[434],{7434:(J,g,i)=>{i.r(g),i.d(g,{TopographiesModule:()=>I});var h=i(9808),c=i(325),u=i(3075),m=i(6087),T=i(4850),d=i(2986),v=i(303),t=i(5e3),f=i(4539),y=i(8966),p=i(9224),C=i(7423),S=i(5245),Z=i(953),b=i(3160);const A=function(){return[20,50,100]},D=[{path:"",component:(()=>{class a{constructor(o,e){this.topographyService=o,this.dialog=e,this.columns=[{title:"Nombre",col:"name"},{title:"Cie10",col:"cie10"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.topographyService.resultItems$}ngOnInit(){this.getTopographies(this.pageDefault,this.perPage,this.filter,this.orden)}paginatorChange(o){this.getTopographies(o.pageIndex+1,o.pageSize)}getTopographies(o,e,n,s){this.subscroption=this.topographyService.getTopographies(o,e,n,s).subscribe(l=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,T.U)(o=>o.data.data.map(n=>({id:n.id,name:n.name,cie10:n.cie10})))),this.totalResut=this.result.pipe((0,T.U)(o=>o.data.total))}search(o){this.getTopographies(this.pageDefault,this.perPage,o,this.orden)}deleteItem(o){return this.topographyService.deleteTopography(o)}itemAction(o){"delete"===o.action&&this.deleteItem(o.element.id).pipe((0,d.q)(1)).subscribe(),"edit"===o.action&&this.openDialog("Edita Topograf\xeda",o.element)}openDialog(o="Agrega Topograf\xeda",e){const n={title:o,data:this.setFields(e)};return this.dialog.open(v.Q,{width:"550px",data:n}).afterClosed().subscribe(l=>{l&&(l.id?this.updateTopography(l):this.storeTopography(l))})}updateTopography(o){this.topographyService.updateTopography(o).pipe((0,d.q)(1)).subscribe()}storeTopography(o){this.topographyService.storeTopography(o).pipe((0,d.q)(1)).subscribe(e=>{})}setFields(o){return[{nameControl:"id",type:"hidden",value:null==o?void 0:o.id,label:"Id"},{nameControl:"name",type:"text",value:null==o?void 0:o.name,label:"Nombre",class:"mvd-col1--1",validators:[u.kI.required]},{nameControl:"cie10",type:"text",value:null==o?void 0:o.cie10,label:"Cie10",class:"mvd-col1--1",validators:[u.kI.required]}]}ngOnDestroy(){this.subscroption.unsubscribe()}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(f.E),t.Y36(y.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["mvd-topographies"]],viewQuery:function(o,e){if(1&o&&t.Gf(m.NW,7),2&o){let n;t.iGM(n=t.CRH())&&(e.paginator=n.first)}},decls:19,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Topograf\xedas"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Administrar Topograf\xedas"),t.qZA(),t.TgZ(6,"div",1)(7,"button",2),t.NdJ("click",function(){return e.openDialog()}),t.TgZ(8,"mat-icon",3),t._uU(9,"add"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Crear"),t.qZA()()(),t.TgZ(12,"mvd-input-search",4),t.NdJ("changeSearch",function(s){return e.search(s)}),t.qZA()(),t.TgZ(13,"mat-card-content")(14,"mvd-data-table",5),t.NdJ("actionChange",function(s){return e.itemAction(s)}),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"mat-paginator",6),t.NdJ("page",function(s){return e.paginatorChange(s)}),t.ALo(17,"async"),t.qZA()(),t._UZ(18,"span",7),t.qZA()),2&o&&(t.xp6(12),t.Q6J("noteFilterBy","Filtra por Nombre"),t.xp6(2),t.Q6J("columns",e.columns)("dataSource",t.lcZ(15,6,e.dataSource)),t.xp6(2),t.Q6J("length",t.lcZ(17,8,e.totalResut))("pageSize",e.perPage)("pageSizeOptions",t.DdM(10,A)))},directives:[p.a8,p.dk,p.n5,p.$j,C.lW,S.Hw,Z.V,p.dn,b.Q,m.NW],pipes:[h.Ov],styles:[""]}),a})()}];let z=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[c.Bz.forChild(D)],c.Bz]}),a})();var F=i(8203);let I=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[h.ez,z,F.m]]}),a})()}}]);