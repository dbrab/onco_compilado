"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[674],{2674:(J,d,n)=>{n.r(d),n.d(d,{TypesSamplesModule:()=>F});var c=n(9808),u=n(325),S=n(3075),h=n(6087),g=n(4850),m=n(2986),y=n(303),e=n(5e3),T=n(3327),v=n(8966),l=n(9224),f=n(7423),C=n(5245),Z=n(953),A=n(3160);const b=function(){return[20,50,100]},M=[{path:"",component:(()=>{class a{constructor(t,s){this.typeSampleService=t,this.dialog=s,this.columns=[{title:"Nombre",col:"name"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.typeSampleService.resultItems$}ngOnInit(){this.getTypeSamples(this.pageDefault,this.perPage,this.filter,this.orden)}paginatorChange(t){this.getTypeSamples(t.pageIndex+1,t.pageSize)}getTypeSamples(t,s,o,i){this.subscroption=this.typeSampleService.getTypeSamples(t,s,o,i).subscribe(r=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,g.U)(t=>t.data.data.map(o=>({id:o.id,name:o.name})))),this.totalResut=this.result.pipe((0,g.U)(t=>t.data.total))}search(t){this.getTypeSamples(this.pageDefault,this.perPage,t,this.orden)}deleteItem(t){return this.typeSampleService.deleteTypeSample(t)}itemAction(t){"delete"===t.action&&this.deleteItem(t.element.id).pipe((0,m.q)(1)).subscribe(),"edit"===t.action&&this.openDialog("Edita Tipo de Muestra",t.element)}openDialog(t="Agrega Tipo de Muestra",s){const o={title:t,data:this.setFields(s)};return this.dialog.open(y.Q,{width:"550px",data:o}).afterClosed().subscribe(r=>{r&&(r.id?this.updateTypeSample(r):this.storeTypeSample(r))})}updateTypeSample(t){this.typeSampleService.updateTypeSample(t).pipe((0,m.q)(1)).subscribe()}storeTypeSample(t){this.typeSampleService.storeTypeSample(t).pipe((0,m.q)(1)).subscribe(s=>{})}setFields(t){return[{nameControl:"id",type:"hidden",value:null==t?void 0:t.id,label:"Id"},{nameControl:"name",type:"text",value:null==t?void 0:t.name,validators:[S.kI.required],label:"Nombre",class:"mvd-col1--1"}]}ngOnDestroy(){this.subscroption.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(T.p),e.Y36(v.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["mvd-types-samples"]],viewQuery:function(t,s){if(1&t&&e.Gf(h.NW,7),2&t){let o;e.iGM(o=e.CRH())&&(s.paginator=o.first)}},decls:19,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(t,s){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Tipos de Muestras"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"Administrar Tipos de Muestras"),e.qZA(),e.TgZ(6,"div",1)(7,"button",2),e.NdJ("click",function(){return s.openDialog()}),e.TgZ(8,"mat-icon",3),e._uU(9,"add"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Crear"),e.qZA()()(),e.TgZ(12,"mvd-input-search",4),e.NdJ("changeSearch",function(i){return s.search(i)}),e.qZA()(),e.TgZ(13,"mat-card-content")(14,"mvd-data-table",5),e.NdJ("actionChange",function(i){return s.itemAction(i)}),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"mat-paginator",6),e.NdJ("page",function(i){return s.paginatorChange(i)}),e.ALo(17,"async"),e.qZA()(),e._UZ(18,"span",7),e.qZA()),2&t&&(e.xp6(12),e.Q6J("noteFilterBy","Filtra por Nombre"),e.xp6(2),e.Q6J("columns",s.columns)("dataSource",e.lcZ(15,6,s.dataSource)),e.xp6(2),e.Q6J("length",e.lcZ(17,8,s.totalResut))("pageSize",s.perPage)("pageSizeOptions",e.DdM(10,b)))},directives:[l.a8,l.dk,l.n5,l.$j,f.lW,C.Hw,Z.V,l.dn,A.Q,h.NW],pipes:[c.Ov],styles:[""]}),a})()}];let D=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[u.Bz.forChild(M)],u.Bz]}),a})();var z=n(8203);let F=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[c.ez,D,z.m]]}),a})()}}]);