"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[88],{5088:(z,c,o)=>{o.r(c),o.d(c,{StatesModule:()=>D});var d=o(9808),u=o(325),m=o(6087),p=o(4850),h=o(2986),t=o(5e3),g=o(3582),l=o(9224),S=o(7423),v=o(5245),f=o(953),C=o(3160);const y=function(){return[20,50,100]},Z=[{path:"",component:(()=>{class n{constructor(e){this.locationService=e,this.columns=[{title:"id",col:"id"},{title:"Nombre",col:"name"},{title:"Coordenadas",col:"code"},{title:"Pa\xeds",col:"country"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=null,this.result=this.locationService.resultItems$}paginatorChange(e){this.getStates(e.pageIndex+1,e.pageSize)}ngOnInit(){this.getStates(this.pageDefault,this.perPage,this.filter,this.orden)}loadData(){this.dataSource=this.result.pipe((0,p.U)(e=>{var a;return null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.data.map(i=>({id:i.id,code:i.code,name:i.name,country:i.country.name,country_id:i.country.id}))})),this.totalResut=this.result.pipe((0,p.U)(e=>{var a;return null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.total}))}getStates(e,a,s,i){this.subcription=this.locationService.getItems(e,a,s,i,"states").subscribe(M=>this.loadData())}search(e){this.getStates(this.pageDefault,this.perPage,e,this.orden)}openDialog(e){this.locationService.openDialog("states",e)}itemAction(e){"delete"===e.action&&this.deleteItem(e.element.id).pipe((0,h.q)(1)).subscribe(),"edit"===e.action&&this.openDialog(e.element)}deleteItem(e){return this.locationService.deleteLocation(e,"states")}ngOnDestroy(){this.subcription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-states"]],viewQuery:function(e,a){if(1&e&&t.Gf(m.NW,7),2&e){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first)}},decls:19,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Departamentos"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Administrar Departamentos"),t.qZA(),t.TgZ(6,"div",1)(7,"button",2),t.NdJ("click",function(){return a.openDialog()}),t.TgZ(8,"mat-icon",3),t._uU(9,"add"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Crear"),t.qZA()()(),t.TgZ(12,"mvd-input-search",4),t.NdJ("changeSearch",function(i){return a.search(i)}),t.qZA()(),t.TgZ(13,"mat-card-content")(14,"mvd-data-table",5),t.NdJ("actionChange",function(i){return a.itemAction(i)}),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"mat-paginator",6),t.NdJ("page",function(i){return a.paginatorChange(i)}),t.ALo(17,"async"),t.qZA()(),t._UZ(18,"span",7),t.qZA()),2&e&&(t.xp6(12),t.Q6J("noteFilterBy","Filtra por Nombre, Id o Coordenadas"),t.xp6(2),t.Q6J("columns",a.columns)("dataSource",t.lcZ(15,6,a.dataSource)),t.xp6(2),t.Q6J("length",t.lcZ(17,8,a.totalResut))("pageSize",a.perPage)("pageSizeOptions",t.DdM(10,y)))},directives:[l.a8,l.dk,l.n5,l.$j,S.lW,v.Hw,f.V,l.dn,C.Q,m.NW],pipes:[d.Ov],styles:[""]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(Z)],u.Bz]}),n})();var T=o(8203);let D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,A,T.m]]}),n})()}}]);