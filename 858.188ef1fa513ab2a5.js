"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[858],{2075:(F,M,i)=>{i.d(M,{e:()=>C});var s=i(520),f=i(591),h=i(4850),b=i(2986),x=i(2340),T=i(5e3),t=i(7261),E=i(6732);let C=(()=>{class u{constructor(n,o,g){this.http=n,this.snackBar=o,this.traceSampleService=g,this.dataOptionsForms$=new f.X(null),this.sampleEditSubject$=new f.X(null),this.urlUtils="src/app/shared/utils/data/",this.resultSubject$=new f.X(null),this.sampleOnEdit.subscribe(r=>{this.sample=r})}get optionsForms$(){return this.dataOptionsForms$}get resultItems$(){return this.resultSubject$}setItems(n){this.resultSubject$.next(n)}get sampleOnEdit(){return this.sampleEditSubject$.asObservable()}setSampleOnEdit(n){this.sampleEditSubject$.next(n)}storeSample(n){return this.http.post(`${x.N.API}samples`,n).pipe((0,h.U)(o=>(this.setSampleOnEdit(o.data),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),o.data)))}updateSample(n){const o=this.sampleEditSubject$.value.id;return n._method="put",this.http.post(`${x.N.API}samples/${o}`,n).pipe((0,h.U)(g=>(this.setSampleOnEdit(g.data),this.openSnackBar("Actualizado correctamente","success-snack-bar"),g.data)))}deleteSample(n){return this.http.delete(`${x.N.API}samples/${n}`).pipe((0,h.U)(o=>(this.getSamples(1,20,"","desc").pipe((0,b.q)(1)).subscribe(),this.openSnackBar("Eliminado correctamente","success-snack-bar"),o.data)))}cloneSample(n){return this.http.post(`${x.N.API}clone_sample/${n}`,"").pipe((0,h.U)(o=>(this.openSnackBar("Eliminado correctamente","success-snack-bar"),o.data)))}getSample(n){return this.http.get(`${x.N.API}samples/${n}`).pipe((0,h.U)(o=>{var g,r,_;return this.setSampleOnEdit(o.data),console.log(o.data),this.traceSampleService.setTraceSampleStatus(null===(_=null===(r=null===(g=o.data)||void 0===g?void 0:g.traces_sample)||void 0===r?void 0:r.stage)||void 0===_?void 0:_.name),o.data}))}getSamples(n=1,o=20,g="",r="desc",_=""){return this.http.get(`${x.N.API}samples`,{params:(new s.LE).set("page",n.toString()).set("filter",g).set("sort",r).set("patient_id",_).set("per_page",o.toString())}).pipe((0,h.U)(d=>(this.setSampleOnEdit(null),this.setItems(d),d)))}openSnackBar(n,o,g=""){this.snackBar.open(n,g,{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:o})}genCode(){return this.http.get(`${x.N.API}gen_code_sample`).pipe((0,h.U)(n=>(null==n?void 0:n.data)?n.data:0))}checkExist(n,o){var g;return this.http.get(`${x.N.API}code_sample_exist`,{params:(new s.LE).set(n,o).set("not_include_id",null===(g=this.sample)||void 0===g?void 0:g.id.toString())})}}return u.\u0275fac=function(n){return new(n||u)(T.LFG(s.eN),T.LFG(t.ux),T.LFG(E.B))},u.\u0275prov=T.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6732:(F,M,i)=>{i.d(M,{B:()=>t});var s=i(520),f=i(591),h=i(4850),b=i(2340),x=i(5e3),T=i(7261);let t=(()=>{class E{constructor(u,a){this.http=u,this.snackBar=a,this.traceSampleEditSubject$=new f.X(null),this.urlUtils="src/app/shared/utils/data/",this.resultSubject$=new f.X(null),this.statusSample$=new f.X("")}get resultItems$(){return this.resultSubject$}setItems(u){this.resultSubject$.next(u)}get traceSampleOnEdit(){return this.traceSampleEditSubject$}get currentStatusSample$(){return this.statusSample$}setTraceSampleStatus(u){this.statusSample$.next(u)}setTraceSampleOnEdit(u){this.traceSampleEditSubject$.next(u)}getTraces(u=1,a=10,n="",o="desc",g=""){return this.http.get(`${b.N.API}traces_samples`,{params:(new s.LE).set("page",u.toString()).set("filter",n).set("sort",o).set("sample_id",g).set("per_page",a.toString())}).pipe((0,h.U)(r=>{var _,d;return this.statusSample$.next(null===(d=null===(_=r.data.data[0])||void 0===_?void 0:_.stage)||void 0===d?void 0:d.name),this.setTraceSampleOnEdit(null),this.setItems(r),r}))}getSample(u){return this.http.get(`${b.N.API}traces_samples/${u}`).pipe((0,h.U)(a=>(this.setTraceSampleOnEdit(a.data),a.data)))}storeTraceSample(u){return this.http.post(`${b.N.API}traces_samples`,u).pipe((0,h.U)(a=>(this.setTraceSampleOnEdit(a.data),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),a.data)))}openSnackBar(u,a,n=""){this.snackBar.open(u,n,{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:a})}updateTrace(u){return u._method="put",this.http.post(`${b.N.API}traces_samples/${u.id}`,u).pipe((0,h.U)(a=>(this.setTraceSampleOnEdit(a.data),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),a.data)))}}return E.\u0275fac=function(u){return new(u||E)(x.LFG(s.eN),x.LFG(T.ux))},E.\u0275prov=x.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},7510:(F,M,i)=>{i.d(M,{g:()=>g});var s=i(5e3),f=i(9808),h=i(7322);function b(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("notIncludedIn"))}}function x(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("validateNumDoc"))}}function T(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("validateCode"))}}function t(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("email"))}}function E(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("validateEmailExist"))}}function C(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("required"))}}function u(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("number"))}}function a(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("date"))}}function n(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("validateRoleExist"))}}function o(r,_){if(1&r&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&r){const d=s.oxw();s.xp6(1),s.Oqu(d.getErrorMessage("validatePassword"))}}let g=(()=>{class r{constructor(){}ngOnInit(){}getErrorMessage(d){let m;switch(console.log(d),d){case"validateNumDoc":case"validateCode":case"notIncludedIn":m=`${this.name} ya existe`;break;case"validateEmailExist":m="Email ya existe";break;case"email":m="Email no v\xe1lido";break;case"date":m="Formato de fecha inv\xe1lido";break;case"number":m=`${this.name} admite solamente n\xfameros`;break;case"required":m=`${this.name} es necesario`;break;case"validateRoleExist":m="El rol ya existe";break;case"validatePassword":m="Contrase\xf1as no coinciden";break;default:m="No v\xe1lido"}return m}}return r.\u0275fac=function(d){return new(d||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["mvd-errors-messages"]],inputs:{campo:"campo",name:"name"},decls:10,vars:10,consts:[[4,"ngIf"]],template:function(d,m){1&d&&(s.YNc(0,b,2,1,"mat-error",0),s.YNc(1,x,2,1,"mat-error",0),s.YNc(2,T,2,1,"mat-error",0),s.YNc(3,t,2,1,"mat-error",0),s.YNc(4,E,2,1,"mat-error",0),s.YNc(5,C,2,1,"mat-error",0),s.YNc(6,u,2,1,"mat-error",0),s.YNc(7,a,2,1,"mat-error",0),s.YNc(8,n,2,1,"mat-error",0),s.YNc(9,o,2,1,"mat-error",0)),2&d&&(s.Q6J("ngIf",null==m.campo?null:m.campo.notIncludedIn),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.validateNumDoc),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.validateCode),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.email),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.validateEmailExist),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.required),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.number),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.date),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.validateRoleExist),s.xp6(1),s.Q6J("ngIf",null==m.campo?null:m.campo.validatePassword))},directives:[f.O5,h.TO],styles:[""],changeDetection:0}),r})()},6891:(F,M,i)=>{i.d(M,{F:()=>B});var s=i(5e3),f=i(3075),h=i(1079),b=i(1059),x=i(4850),T=i(303),t=i(8966),E=i(325),C=i(277),u=i(7322),a=i(7531),n=i(9808),o=i(508),g=i(7510),r=i(7423),_=i(5245);function d(R,$){if(1&R&&(s.TgZ(0,"mat-option",9),s._uU(1),s.qZA()),2&R){const v=$.$implicit;s.Q6J("value",v.value),s.xp6(1),s.hij(" ",v.text," ")}}function m(R,$){if(1&R){const v=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(){return s.CHM(v),s.oxw().addItemOption()}),s.TgZ(1,"mat-icon",11),s._uU(2,"add_circle"),s.qZA()()}if(2&R){const v=s.oxw();s.Q6J("disabled",v.disabled)}}let B=(()=>{class R{constructor(v,S,P){this.fb=v,this.dialog=S,this.router=P,this.options=[],this.addOptionEnabled=!0,this.disabled=!1,this.fieldsAddItem=[{nameControl:"name",type:"text",value:"",validators:[f.kI.required],label:"Nombre",class:"mvd-col1--1"}],this.changeValue=new s.vpe,this.changeClean=new s.vpe,this.addOption=new s.vpe,this.createForm()}ngOnInit(){this.value&&this.updateForm(this.value)}createForm(){this.form=this.fb.group({select:[]})}updateForm(v){this.form.reset(),this.form.patchValue({select:v}),this.disabled?this.form.get("select").disable():this.form.get("select").enable()}ngOnChanges(){var v;this.updateForm(this.value),(null===(v=this.options)||void 0===v?void 0:v.length)&&(this.filteredItems$=this.form.get("select").valueChanges.pipe((0,b.O)(""),(0,x.U)(S=>(this.options.filter(j=>j.value===S).length&&this.changeValue.emit(S),S?this._filter(S):this.options))))}_filter(v){const S="string"==typeof v?v.toLowerCase():"";if(this.options)return this.options.filter(P=>P.text.toLowerCase().includes(S))}addItemOption(){if(this.addOptionRoute)this.router.navigate([this.addOptionRoute]),this.addOption.emit();else{const S={title:`Agregar ${this.namePlaceholder}`,data:this.fieldsAddItem};setTimeout(()=>this.dialog.open(T.Q,{width:"350px",data:S}).afterClosed().subscribe(j=>{j&&this.addOption.emit(j)}),100)}}getTextItem(v){return v&&this.options&&this.options.length?(console.log(this.options.find(S=>S.value===v)),this.options.find(S=>S.value===v).text):v}}return R.\u0275fac=function(v){return new(v||R)(s.Y36(f.qu),s.Y36(t.uw),s.Y36(E.F0))},R.\u0275cmp=s.Xpm({type:R,selectors:[["mvd-input-select-add-item"]],viewQuery:function(v,S){if(1&v&&s.Gf(h.ZL,5),2&v){let P;s.iGM(P=s.CRH())&&(S.autocomplete=P.first)}},inputs:{options:"options",value:"value",namePlaceholder:"namePlaceholder",addOptionEnabled:"addOptionEnabled",disabled:"disabled",addOptionRoute:"addOptionRoute",fieldsAddItem:"fieldsAddItem"},outputs:{changeValue:"changeValue",changeClean:"changeClean",addOption:"addOption"},features:[s.TTD],decls:13,vars:12,consts:[["fxFlex","100","fxFlex.lt-md","100"],[3,"formGroup"],["appearance","outline","fxFlex","100","fxFlex.lt-md","100",1,""],["matInput","","formControlName","select","type","text",3,"placeholder","value","matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"campo","name"],["class","add-icon-input","type","button","matSuffix","","mat-icon-button","","aria-label","Add",3,"disabled","click",4,"ngIf"],[3,"value"],["type","button","matSuffix","","mat-icon-button","","aria-label","Add",1,"add-icon-input",3,"disabled","click"],["color","primary"]],template:function(v,S){if(1&v&&(s.TgZ(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),s._uU(4),s.qZA(),s._UZ(5,"input",3),s.TgZ(6,"mat-autocomplete",4,5),s.YNc(8,d,2,2,"mat-option",6),s.ALo(9,"async"),s.qZA(),s.TgZ(10,"mat-error"),s._UZ(11,"mvd-errors-messages",7),s.qZA(),s.YNc(12,m,3,1,"button",8),s.qZA()()()),2&v){const P=s.MAs(7);s.xp6(1),s.Q6J("formGroup",S.form),s.xp6(3),s.Oqu(S.namePlaceholder),s.xp6(1),s.Q6J("placeholder",S.namePlaceholder)("value",S.value)("matAutocomplete",P),s.xp6(1),s.Q6J("displayWith",S.getTextItem.bind(S)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(9,10,S.filteredItems$)),s.xp6(3),s.Q6J("campo",S.form.get("select").errors)("name",S.namePlaceholder),s.xp6(1),s.Q6J("ngIf",S.addOptionEnabled||S.addOptionRoute)}},directives:[C.yH,f._Y,f.JL,f.sg,u.KE,u.hX,a.Nt,f.Fj,h.ZL,f.JJ,f.u,h.XC,n.sg,o.ey,u.TO,g.g,n.O5,r.lW,u.R9,_.Hw],pipes:[n.Ov],styles:[".add-icon-input[_ngcontent-%COMP%]{margin-right:-12px;padding-bottom:5px}.add-icon-input[_ngcontent-%COMP%]   .mat-button-ripple.mat-ripple[_ngcontent-%COMP%], .add-icon-input[_ngcontent-%COMP%]   .mat-button-focus-overlay[_ngcontent-%COMP%]{inset:-3px 0 3px -1px!important}"]}),R})()},2415:(F,M,i)=>{i.d(M,{X:()=>b});var s=i(591),f=i(5e3),h=i(7261);let b=(()=>{class x{constructor(t){this.snackBar=t,this.genResultsSubject$=new s.X([])}setGenResults(t){this.genResultsSubject$.next(t)}get genResults$(){return this.genResultsSubject$.asObservable()}addGenResult(t){var E,C;let u;u=(null===(E=this.genResultsSubject$)||void 0===E?void 0:E.getValue())?[...null===(C=this.genResultsSubject$)||void 0===C?void 0:C.getValue(),t]:[t],console.log(t),this.setGenResults(u)}removeGenResult(t){const E=[...this.genResultsSubject$.getValue()];E.splice(t,1),this.setGenResults(E)}openSnackBar(t,E,C=""){this.snackBar.open(t,C,{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:E})}}return x.\u0275fac=function(t){return new(t||x)(f.LFG(h.ux))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},9002:(F,M,i)=>{i.d(M,{N:()=>X});var s=i(3075),f=i(8966),h=i(5439),b=i.n(h),x=i(2654),T=i(2868),t=i(5e3),E=i(7814),C=i(2415),u=i(9808),a=i(9224),n=i(277),o=i(7423),g=i(5245),r=i(7322),_=i(7531),d=i(6856),m=i(6891),B=i(7446),R=i(7238);function $(O,y){if(1&O){const e=t.EpF();t.TgZ(0,"p",11)(1,"span",12),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span",13)(8,"button",14),t.NdJ("click",function(){const p=t.CHM(e).index;return t.oxw().remove(p)}),t.TgZ(9,"mat-icon"),t._uU(10,"delete_outline"),t.qZA()()()()}if(2&O){const e=y.$implicit;t.xp6(2),t.hij("Gen: ",null==e||null==e.gen?null:e.gen.name,""),t.xp6(2),t.hij("Localizaci\xf3n: ",null==e?null:e.localization,""),t.xp6(2),t.hij("Calsificaci\xf3n: ",null==e||null==e.clasification?null:e.clasification.name,"")}}let v=(()=>{class O{constructor(e,l,c){this.genResultService=e,this.resultService=l,this.fb=c,this.optionsGens=[],this.options=[],this.subscriptions=[],this.formatOptionsSelect(),this.resultService.resultOnEdit$.subscribe(p=>{if(this.result=p,console.log(this.result),this.createForm(),this.result&&this.result.gens_results){const I=this.result.gens_results.map(A=>{var Z,U,D,L;return{result_id:null===(Z=this.result)||void 0===Z?void 0:Z.id,gen_id:A.id,localization:null===(U=A.pivot)||void 0===U?void 0:U.localization,clasification_id:null===(D=A.pivot)||void 0===D?void 0:D.clasification_id,gen:{id:A.id,name:A.name},clasification:{id:A.pivot.clasification_id,name:null===(L=this.result.clasifications_results.filter(N=>N.id===A.pivot.clasification_id)[0])||void 0===L?void 0:L.name}}});this.genResultService.setGenResults(I)}this.gens_results$=this.genResultService.genResults$})}ngOnInit(){}createForm(){var e;this.form=this.fb.group({result_id:[null===(e=this.result)||void 0===e?void 0:e.id],gen_id:[],clasification_id:[],localization:[null,s.kI.required],gen_name:[]})}submit(){var e;console.log(this.form.value);const l={result_id:null===(e=this.result)||void 0===e?void 0:e.id,gen_id:this.form.get("gen_id").value,clasification_id:this.form.get("clasification_id").value,localization:this.form.get("localization").value,clasification:{id:this.form.get("clasification_id").value,name:this.optionsClasifications.filter(c=>c.value===this.form.get("clasification_id").value)[0].text},gen:{id:this.form.get("gen_id").value,name:this.optionsGens.filter(c=>c.value===this.form.get("gen_id").value)[0].text}};this.genResultService.addGenResult(l),this.form.reset(),this.valueGenSelect=null,this.valueClasificationSelect=null}remove(e){this.genResultService.removeGenResult(e)}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe())}addGen(e){this.resultService.storeGen$(e).subscribe()}addClasification(e){this.resultService.storeClasification$(e).subscribe()}changeGen(e){this.form.get("gen_id").setValue(e),this.valueGenSelect=e}changeClasification(e){this.form.get("clasification_id").setValue(e),this.valueClasificationSelect=e}formatOptionsSelect(){this.resultService.gens$.subscribe(e=>{this.gens=e,this.optionsGens=null==e?void 0:e.map(l=>({value:l.id,text:l.name}))}),this.resultService.clasifications$.subscribe(e=>{this.clasifications=e,this.optionsClasifications=null==e?void 0:e.map(l=>({value:l.id,text:l.name}))})}}return O.\u0275fac=function(e){return new(e||O)(t.Y36(C.X),t.Y36(E.L),t.Y36(s.qu))},O.\u0275cmp=t.Xpm({type:O,selectors:[["mvd-gen-result"]],decls:18,vars:10,consts:[["fxLayout","row wrap","fxFlex","100","fxLayoutGap","1rem","fxLayoutAlign","start stretch",1,"card","pl-5",3,"formGroup"],["fxFlex","100","fxLayout","column","fxLayoutGap","6px",1,"content-groups"],["fxFlex","100","fxLayout","row wrap","fxLayoutGap","6px",1,"content-group-form"],["fxFlex","100"],[3,"value","options","namePlaceholder","addOption","changeValue"],["appearance","outline","fxFlex","30","fxFlex.lt-md","100",1,""],["formControlName","localization","matInput","","type","text","placeholder","Localizaci\xf3n"],["fxFlex","10"],["type","button","mat-icon-button","","aria-label","Add",1,"add-icon",3,"click"],["color","primary"],["class","list","fxFlex","100",4,"ngFor","ngForOf"],["fxFlex","100",1,"list"],[1,"text-list"],[1,"btn-list"],["mat-icon-button","","type","button","matTooltip","Eliminar","matTooltipClass","tips",1,"buttons-actions",3,"click"]],template:function(e,l){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"Especificaciones"),t.qZA(),t.TgZ(5,"mvd-input-select-add-item",4),t.NdJ("addOption",function(p){return l.addGen(p)})("changeValue",function(p){return l.changeGen(p)}),t.qZA(),t.TgZ(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Localizaci\xf3n"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"mvd-input-select-add-item",4),t.NdJ("addOption",function(p){return l.addClasification(p)})("changeValue",function(p){return l.changeClasification(p)}),t.qZA(),t.TgZ(11,"span",7)(12,"button",8),t.NdJ("click",function(){return l.submit()}),t.TgZ(13,"mat-icon",9),t._uU(14,"add_circle"),t.qZA()()(),t.ynx(15),t.YNc(16,$,11,3,"p",10),t.ALo(17,"async"),t.BQk(),t.qZA()()()),2&e&&(t.Q6J("formGroup",l.form),t.xp6(5),t.Q6J("value",l.valueGenSelect)("options",l.optionsGens)("namePlaceholder","Gen"),t.xp6(5),t.Q6J("value",l.valueClasificationSelect)("options",l.optionsClasifications)("namePlaceholder","Calsificaci\xf3n"),t.xp6(6),t.Q6J("ngForOf",t.lcZ(17,8,l.gens_results$)))},directives:[s._Y,s.JL,n.xw,n.yH,n.SQ,n.Wh,s.sg,m.F,r.KE,r.hX,s.Fj,_.Nt,s.JJ,s.u,o.lW,g.Hw,u.sg,R.gM],pipes:[u.Ov],styles:[".list[_ngcontent-%COMP%]{background-color:var(--background-gral);border-radius:8px;padding-left:10px;padding-right:10px;font-size:10pt;align-items:center;display:grid;grid-gap:2rem;gap:2rem;grid-template-columns:1fr 2fr 1fr max-content}.list[_ngcontent-%COMP%]   .text-list-antecedente[_ngcontent-%COMP%]{width:250px}.list[_ngcontent-%COMP%]   .btn-list[_ngcontent-%COMP%]{text-align:right}.list[_ngcontent-%COMP%]   .btn-list[_ngcontent-%COMP%]   .buttons-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}h3[_ngcontent-%COMP%]{font-weight:500}.content-column-checkbox[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding:10px 10px 27px}.content-groups[_ngcontent-%COMP%]{width:100%}.chip-antecedentes[_ngcontent-%COMP%]{min-height:20px!important;font-weight:400;font-size:12px}"]}),O})();function S(O,y){if(1&O&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&O){const e=y.ngIf;t.xp6(1),t.hij(" ID ",e.id," ")}}function P(O,y){if(1&O){const e=t.EpF();t.ynx(0),t.TgZ(1,"mvd-input-select-add-item",17),t.NdJ("addOption",function(c){return t.CHM(e),t.oxw(3).addResultStudyType(c)})("changeValue",function(c){return t.CHM(e),t.oxw(3).changeResultStudyType(c)}),t.qZA(),t.BQk()}if(2&O){const e=t.oxw(3);t.xp6(1),t.Q6J("value",e.valueResultTypeStudySelect)("options",e.optionsResultStudyType)("namePlaceholder","Resultado de Estudio")}}function j(O,y){1&O&&(t.TgZ(0,"mat-form-field",27)(1,"mat-label"),t._uU(2,"Obs de reclasificaci\xf3n"),t.qZA(),t._UZ(3,"input",28),t.qZA())}function Y(O,y){if(1&O){const e=t.EpF();t.TgZ(0,"div",11)(1,"mat-form-field",12)(2,"mat-label"),t._uU(3,"Fecha de solicitud"),t.qZA(),t.TgZ(4,"input",13),t.NdJ("dateChange",function(c){return t.CHM(e),t.oxw(2).formatDate(c,"date_sol")})("click",function(){return t.CHM(e),t.MAs(7).open()}),t.qZA(),t._UZ(5,"mat-datepicker-toggle",14)(6,"mat-datepicker",null,15),t.qZA(),t.TgZ(8,"div",16)(9,"mvd-input-select-add-item",17),t.NdJ("addOption",function(c){return t.CHM(e),t.oxw(2).addFinanciacion(c)})("changeValue",function(c){return t.CHM(e),t.oxw(2).changeFinanciacion(c)}),t.qZA()(),t.TgZ(10,"div",16)(11,"mvd-input-select-add-item",17),t.NdJ("addOption",function(c){return t.CHM(e),t.oxw(2).addLab(c)})("changeValue",function(c){return t.CHM(e),t.oxw(2).changeLab(c)}),t.qZA()(),t.TgZ(12,"mat-form-field",12)(13,"mat-label"),t._uU(14,"Fecha de Recepci\xf3n"),t.qZA(),t.TgZ(15,"input",18),t.NdJ("dateChange",function(c){return t.CHM(e),t.oxw(2).formatDate(c,"date_recep")})("click",function(){return t.CHM(e),t.MAs(18).open()}),t.qZA(),t._UZ(16,"mat-datepicker-toggle",14)(17,"mat-datepicker",null,19),t.qZA(),t.TgZ(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Fecha de Entrega"),t.qZA(),t.TgZ(22,"input",20),t.NdJ("dateChange",function(c){return t.CHM(e),t.oxw(2).formatDate(c,"date_entrega")})("click",function(){return t.CHM(e),t.MAs(25).open()}),t.qZA(),t._UZ(23,"mat-datepicker-toggle",14)(24,"mat-datepicker",null,21),t.qZA(),t.TgZ(26,"div",16)(27,"mvd-input-select-add-item",17),t.NdJ("addOption",function(c){return t.CHM(e),t.oxw(2).addStudyType(c)})("changeValue",function(c){return t.CHM(e),t.oxw(2).changeStudyType(c)}),t.qZA()(),t.TgZ(28,"div",16),t.YNc(29,P,2,3,"ng-container",4),t.qZA(),t.TgZ(30,"div",22)(31,"mat-checkbox",23),t._uU(32,"Reclasificado"),t.qZA(),t.YNc(33,j,4,0,"mat-form-field",24),t.qZA(),t.TgZ(34,"mat-form-field",25)(35,"mat-label"),t._uU(36,"Observaciones"),t.qZA(),t._UZ(37,"input",26),t.qZA()()}if(2&O){const e=t.MAs(7),l=t.MAs(18),c=t.MAs(25),p=t.oxw(2);t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(4),t.Q6J("value",p.valueFinanciacionSelect)("options",p.optionsFinancings)("namePlaceholder","Financiaci\xf3n"),t.xp6(2),t.Q6J("value",p.valueLabSelect)("options",p.optionsLabs)("namePlaceholder","Laboratorio"),t.xp6(4),t.Q6J("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(6),t.Q6J("matDatepicker",c),t.xp6(1),t.Q6J("for",c),t.xp6(4),t.Q6J("value",p.valueTypeStudySelect)("options",p.optionsStudies)("namePlaceholder","Tipo de Estudio"),t.xp6(2),t.Q6J("ngIf",p.showResult),t.xp6(4),t.Q6J("ngIf",p.form.get("reclasificado").value)}}function z(O,y){if(1&O){const e=t.EpF();t.TgZ(0,"mat-card",2)(1,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().onNoClick()}),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()(),t.TgZ(4,"mat-card-header")(5,"mat-card-title"),t._uU(6," Resultado "),t.YNc(7,S,2,1,"span",4),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10,"Detalles del resultado"),t.qZA()(),t.TgZ(11,"form",5)(12,"div",6),t.YNc(13,Y,38,17,"div",7),t.ALo(14,"async"),t.TgZ(15,"div",8),t._UZ(16,"mvd-gen-result"),t.qZA()()(),t.TgZ(17,"div",9)(18,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().submit()}),t._uU(19," Guardar "),t.qZA()()()}if(2&O){const e=t.oxw(),l=t.MAs(2);t.xp6(7),t.Q6J("ngIf",t.lcZ(8,5,e.result$)),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("ngIf",t.lcZ(14,7,e.result$)||!e.edit)("ngIfElse",l),t.xp6(5),t.Q6J("disabled",!e.form.valid)}}function H(O,y){1&O&&(t.TgZ(0,"div",29)(1,"div",30),t._UZ(2,"div")(3,"div")(4,"div"),t.qZA()())}let X=(()=>{class O{constructor(e,l,c,p,I){this.resultService=e,this.dialogRef=l,this.data=c,this.fb=p,this.genResultService=I,this.subscriptions=new x.w,this.optionsStudies=[],this.optionsFinancings=[],this.optionsLabs=[],this.optionsResultStudyType=[],this.showResult=!1,this.edit=!0,this.createForm(),this.formatOptionsSelect()}ngOnInit(){var e,l,c;this.patient=null===(e=this.data)||void 0===e?void 0:e.patient,this.edit=!!(null===(c=null===(l=this.data)||void 0===l?void 0:l.element)||void 0===c?void 0:c.id),this.patchForm(),this.result$=this.resultService.resultOnEdit$.pipe((0,T.b)(p=>{console.log(p),this.updateForm(p)})),this.subscriptions.add(this.genResultService.genResults$.subscribe(p=>this.form.get("gens_results").setValue(p)))}createForm(){this.form=this.fb.group({id:[null],patient_id:[null,s.kI.required],sample_id:[null,s.kI.required],date_sol:[null],date_recep:[null],date_entrega:[null],financing_id:[null],lab_id:[null],reclasificado:[!1],reclas_obs:[null],obs_result:[null],result_study_type_id:[null],study_type_id:[null],gens_results:[null],study_request_id:[null]})}patchForm(){this.form.patchValue({patient_id:this.patient.id,sample_id:this.data.element.sample_id})}updateForm(e){var l,c,p,I,A,Z,U,D,L,N,G,k,J,W,w,K,Q,V;console.log(e),console.log(this.data),this.form.patchValue({id:null==e?void 0:e.id,patient_id:this.patient.id,sample_id:null===(c=null===(l=this.data)||void 0===l?void 0:l.element)||void 0===c?void 0:c.sample_id,date_sol:(null==e?void 0:e.date_sol)||(null===(I=null===(p=this.data)||void 0===p?void 0:p.element)||void 0===I?void 0:I.date_sol),date_recep:null==e?void 0:e.date_recep,date_entrega:null==e?void 0:e.date_entrega,financing_id:(null==e?void 0:e.financing_id)||(null===(Z=null===(A=this.data)||void 0===A?void 0:A.element)||void 0===Z?void 0:Z.financing_id),lab_id:(null==e?void 0:e.lab_id)||(null===(D=null===(U=this.data)||void 0===U?void 0:U.element)||void 0===D?void 0:D.lab_id),study_type_id:(null==e?void 0:e.study_type_id)||(null===(N=null===(L=this.data)||void 0===L?void 0:L.element)||void 0===N?void 0:N.study_type_id),reclasificado:null==e?void 0:e.reclasificado,reclas_obs:null==e?void 0:e.reclas_obs,obs_result:null==e?void 0:e.obs_result,study_request_id:(null==e?void 0:e.study_request_id)||(null===(k=null===(G=this.data)||void 0===G?void 0:G.element)||void 0===k?void 0:k.study_request_id)}),this.changeLab((null==e?void 0:e.lab_id)||(null===(W=null===(J=this.data)||void 0===J?void 0:J.element)||void 0===W?void 0:W.lab_id)),this.changeFinanciacion((null==e?void 0:e.financing_id)||(null===(K=null===(w=this.data)||void 0===w?void 0:w.element)||void 0===K?void 0:K.financing_id)),this.changeStudyType((null==e?void 0:e.study_type_id)||(null===(V=null===(Q=this.data)||void 0===Q?void 0:Q.element)||void 0===V?void 0:V.study_type_id),null==e?void 0:e.result_study_type_id)}submit(){this.form.get("id").value?this.subscriptions.add(this.resultService.updateResult(this.form.value,this.form.get("id").value).subscribe(e=>this.dialogRef.close())):this.subscriptions.add(this.resultService.storeResult(this.form.value).subscribe(e=>this.dialogRef.close()))}ngOnDestroy(){this.subscriptions.unsubscribe()}changeFinanciacion(e){this.form.get("financing_id").setValue(e),this.valueFinanciacionSelect=e}addFinanciacion(e){this.subscriptions.add(this.resultService.storeFinancings$(e).subscribe())}changeLab(e){this.form.get("lab_id").setValue(e),this.valueLabSelect=e}addLab(e){this.subscriptions.add(this.resultService.storeLabs$(e).subscribe())}changeStudyType(e,l){var c,p;this.form.get("study_type_id").patchValue(e),this.form.get("study_type_id").value&&(this.showResult=!0),this.resultStudyTypes=null===(c=this.studies.filter(I=>I.id===e)[0])||void 0===c?void 0:c.study_type_results,this.optionsResultStudyType=null===(p=this.resultStudyTypes)||void 0===p?void 0:p.map(I=>({value:I.id,text:I.name})),e!==this.valueTypeStudySelect&&this.changeResultStudyType(null),this.valueTypeStudySelect=e,l&&this.changeResultStudyType(l)}addStudyType(e){this.subscriptions.add(this.resultService.storeTypeSudy$(e).subscribe())}changeResultStudyType(e){this.form.get("result_study_type_id").setValue(e),this.valueResultTypeStudySelect=e}addResultStudyType(e){if(this.form.get("study_type_id").value){const l={name:e.name,study_type_id:this.form.get("study_type_id").value};this.subscriptions.add(this.resultService.storeRersultStudiesTypes$(l).subscribe())}}onNoClick(){this.dialogRef.close()}formatDate(e,l){let c=e.value;this.form.get(l).setValue(b()(c).format("YYYY-MM-DD HH:mm:ss"))}formatOptionsSelect(){this.subscriptions.add(this.resultService.typeStudies$.subscribe(e=>{this.studies=e,this.optionsStudies=null==e?void 0:e.map(l=>({value:l.id,text:l.name}))})),this.subscriptions.add(this.resultService.rersultStudiesTypes$.subscribe(e=>{this.resultStudyTypes=e,this.optionsResultStudyType=null==e?void 0:e.map(l=>({value:l.id,text:l.name}))})),this.subscriptions.add(this.resultService.financing$.subscribe(e=>{this.financings=e,this.optionsFinancings=null==e?void 0:e.map(l=>({value:l.id,text:l.name}))})),this.subscriptions.add(this.resultService.labs$.subscribe(e=>{this.labs=e,this.optionsLabs=null==e?void 0:e.map(l=>({value:l.id,text:l.name}))}))}}return O.\u0275fac=function(e){return new(e||O)(t.Y36(E.L),t.Y36(f.so),t.Y36(f.WI),t.Y36(s.qu),t.Y36(C.X))},O.\u0275cmp=t.Xpm({type:O,selectors:[["mvd-result"]],decls:3,vars:1,consts:[["class","","fxFlex","100",4,"ngIf"],["loading",""],["fxFlex","100",1,""],["mat-button","",1,"btn-close-modal",3,"click"],[4,"ngIf"],[3,"formGroup"],[1,"container"],["class","form1",4,"ngIf","ngIfElse"],[1,""],[1,"mvd-col1--1","submit"],["mat-flat-button","","color","primary",1,"btn",3,"disabled","click"],[1,"form1"],["appearance","outline",1,"mvd-col1-2"],["formControlName","date_sol","matInput","","placeholder","Fecha de solicitud","autocomplete","off",3,"matDatepicker","dateChange","click"],["matSuffix","",3,"for"],["pickerdate_sol",""],[1,"mvd-col1-3"],[3,"value","options","namePlaceholder","addOption","changeValue"],["formControlName","date_recep","matInput","","placeholder","Fecha de Recepci\xf3n","autocomplete","off",3,"matDatepicker","dateChange","click"],["pickerdate_recep",""],["formControlName","date_entrega","matInput","","placeholder","Fecha de Entrega","autocomplete","off",3,"matDatepicker","dateChange","click"],["pickerdate_entrega",""],[1,"doble","mvd-col1--1"],["color","primary","formControlName","reclasificado",1,"checkbox"],["class","","appearance","outline",4,"ngIf"],["appearance","outline",1,"mvd-col1--1"],["formControlName","obs_result","matInput","","type","text","placeholder","Observaciones"],["appearance","outline",1,""],["formControlName","reclas_obs","matInput","","type","text","placeholder","Obs de reclasificaci\xf3n"],[1,"div-content"],[1,"loading"]],template:function(e,l){1&e&&(t.YNc(0,z,20,9,"mat-card",0),t.YNc(1,H,5,0,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",null==l.patient?null:l.patient.id)},directives:[u.O5,a.a8,n.yH,o.lW,g.Hw,a.dk,a.n5,a.$j,s._Y,s.JL,s.sg,r.KE,r.hX,s.Fj,_.Nt,d.hl,s.JJ,s.u,d.nW,r.R9,d.Mq,m.F,B.oG,v],pipes:[u.Ov],styles:[".mat-card[_ngcontent-%COMP%]{box-shadow:none!important;margin:0!important;padding:1rem!important;height:100%!important}.container[_ngcontent-%COMP%]{display:grid;height:100%;grid-template-columns:1fr 2fr;grid-gap:1rem;gap:1rem;overflow:hidden;overflow-y:auto}.container[_ngcontent-%COMP%]   .form1[_ngcontent-%COMP%]{display:grid;grid-column-gap:1rem;column-gap:1rem;grid-template-columns:repeat(2,1fr)}.doble[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:nowrap;gap:1rem;align-items:center;min-height:62px}.doble[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%!important}.checkbox[_ngcontent-%COMP%]{margin-top:-16px;max-width:150px}.submit[_ngcontent-%COMP%]{text-align:right;position:absolute;bottom:2rem;right:2rem}mvd-result[_ngcontent-%COMP%]{height:100%}"]}),O})()},7814:(F,M,i)=>{i.d(M,{L:()=>E});var s=i(520),f=i(591),h=i(4850),b=i(2340),x=i(5e3),T=i(7261),t=i(2415);let E=(()=>{class C{constructor(a,n,o){this.http=a,this.snackBar=n,this.genResultService=o,this.resultSubject$=new f.X(null),this.resultsSubject$=new f.X(null),this.rersultStudiesTypesSubject$=new f.X([]),this.typeStudiesSubject$=new f.X([]),this.genSubject$=new f.X([]),this.financingSubject$=new f.X([]),this.labSubject$=new f.X([]),this.clasificationSubject$=new f.X([])}setItems(a){this.resultsSubject$.next(a)}setItem(a){this.resultSubject$.next(a)}get resultOnEdit$(){return this.resultSubject$.asObservable()}get resultsItems$(){return this.resultsSubject$.asObservable()}getResults$(a=1,n=20,o="",g="desc",r="",_=""){return this.http.get(`${b.N.API}results`,{params:(new s.LE).set("page",a.toString()).set("filter",o).set("sort",g).set("per_page",n.toString()).set("patient_id",_.toString()).set("sample_id",r.toString())}).pipe((0,h.U)(d=>(this.setItem(null),this.setItems(d),d)))}storeResult(a){var n;const o=Object.assign({},a);if(null===(n=a.gens_results)||void 0===n?void 0:n.length){const g=a.gens_results.map(r=>(delete r.gen,delete r.clasification,{clasification_id:r.clasification_id,gen_id:r.gen_id,localization:r.localization}));o.gens_results=g}return this.http.post(`${b.N.API}results`,o).pipe((0,h.U)(g=>{const r=Object.assign({},g.data);return console.log(r.gens_results),this.genResultService.setGenResults(r.gens_results),this.setItem(r),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),r}))}updateResult(a,n){var o;const g=Object.assign({},a);if(null===(o=a.gens_results)||void 0===o?void 0:o.length){const r=a.gens_results.map(_=>(delete _.gen,delete _.clasification,{clasification_id:_.clasification_id,gen_id:_.gen_id,localization:_.localization}));g.gens_results=r}return this.http.put(`${b.N.API}results/${n}`,g).pipe((0,h.U)(r=>{const _=Object.assign({},r.data);return this.genResultService.setGenResults(_.gens_results),this.setItem(_),this.openSnackBar("Se actualiz\xf3 correctamente","success-snack-bar"),_}))}showResult(a){return this.http.get(`${b.N.API}results/${a}`).pipe((0,h.U)(n=>{const o=Object.assign({},n.data);return this.genResultService.setGenResults(o.gens_results),this.setItem(o),o}))}transformResult(a){return console.log(a),a.map(o=>({gen_id:o.id,localization:o.pivot.localization,clasification_id:o.pivot.clasification_id,gen:o}))}get typeStudies$(){var a;return(null===(a=this.typeStudiesSubject$.value)||void 0===a?void 0:a.length)||this.getStudies().subscribe(),this.typeStudiesSubject$.asObservable()}setTypesStudies(a){this.typeStudiesSubject$.next(a)}getStudies(){return this.http.get(`${b.N.API}study_types`,{params:(new s.LE).set("page",1).set("sort","asc").set("per_page",1e3)}).pipe((0,h.U)(a=>(this.setTypesStudies(a.data.data.length?a.data.data:[]),a.data.data)))}storeTypeSudy$(a){return this.http.post(`${b.N.API}study_types`,a).pipe((0,h.U)(n=>{let o=this.typeStudiesSubject$.getValue();return n.data&&(o=[...o,n.data]),this.setTypesStudies(o),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),n.data}))}get rersultStudiesTypes$(){var a;return(null===(a=this.rersultStudiesTypesSubject$.value)||void 0===a?void 0:a.length)||this.getStudies().subscribe(),this.rersultStudiesTypesSubject$.asObservable()}setRersultStudiesTypes(a){this.rersultStudiesTypesSubject$.next(a)}getRersultStudiesTypes(a=""){return this.http.get(`${b.N.API}result_study_types`,{params:(new s.LE).set("page",1).set("sort","asc").set("per_page",1e3).set("study_type_id",a)}).pipe((0,h.U)(n=>(this.setRersultStudiesTypes(n.data.data.length?n.data.data:[]),n.data.data)))}storeRersultStudiesTypes$(a){return this.http.post(`${b.N.API}result_study_types`,a).pipe((0,h.U)(n=>{let o=this.rersultStudiesTypesSubject$.getValue();n.data&&(o=[...o,n.data]),this.setRersultStudiesTypes(o);const g=[...this.typeStudiesSubject$.getValue()].filter(d=>d.id===n.data.study_type_id)[0],r=[n.data,...g.study_type_results];g.study_type_results=r;const _=[...this.typeStudiesSubject$.getValue()].filter(d=>d.id!==n.data.study_type_id);return this.typeStudiesSubject$.next([g,..._]),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),n.data}))}get gens$(){var a;return(null===(a=this.genSubject$.value)||void 0===a?void 0:a.length)||this.getGens().subscribe(),this.genSubject$.asObservable()}setGens(a){this.genSubject$.next(a)}getGens(){return this.http.get(`${b.N.API}gens`,{params:(new s.LE).set("page",1).set("sort","asc").set("per_page",1e3)}).pipe((0,h.U)(a=>(this.setGens(a.data.data.length?a.data.data:[]),a.data.data)))}storeGen$(a){return this.http.post(`${b.N.API}gens`,a).pipe((0,h.U)(n=>{let o=this.genSubject$.getValue();return n.data&&(o=[...o,n.data]),this.setGens(o),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),n.data}))}get clasifications$(){var a;return(null===(a=this.clasificationSubject$.value)||void 0===a?void 0:a.length)||this.getClasifications().subscribe(),this.clasificationSubject$.asObservable()}setClasifications(a){this.clasificationSubject$.next(a)}getClasifications(){return this.http.get(`${b.N.API}clasifications`,{params:(new s.LE).set("page",1).set("sort","asc").set("per_page",1e3)}).pipe((0,h.U)(a=>(this.setClasifications(a.data.data.length?a.data.data:[]),a.data.data)))}storeClasification$(a){return this.http.post(`${b.N.API}clasifications`,a).pipe((0,h.U)(n=>{let o=this.clasificationSubject$.getValue();return n.data&&(o=[...o,n.data]),this.setClasifications(o),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),n.data}))}get financing$(){var a;return(null===(a=this.financingSubject$.value)||void 0===a?void 0:a.length)||this.getFinancings().subscribe(),this.financingSubject$.asObservable()}setFinancings(a){this.financingSubject$.next(a)}getFinancings(){return this.http.get(`${b.N.API}financings`,{params:(new s.LE).set("page",1).set("sort","asc").set("per_page",1e3)}).pipe((0,h.U)(a=>(this.setFinancings(a.data.data.length?a.data.data:[]),a.data.data)))}storeFinancings$(a){return this.http.post(`${b.N.API}financings`,a).pipe((0,h.U)(n=>{let o=this.financingSubject$.getValue();return n.data&&(o=[...o,n.data]),this.setFinancings(o),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),n.data}))}get labs$(){var a;return(null===(a=this.labSubject$.value)||void 0===a?void 0:a.length)||this.getLabs().subscribe(),this.labSubject$.asObservable()}setLabs(a){this.labSubject$.next(a)}getLabs(){return this.http.get(`${b.N.API}labs_result`,{params:(new s.LE).set("page",1).set("sort","asc").set("per_page",1e3)}).pipe((0,h.U)(a=>(this.setLabs(a.data.data.length?a.data.data:[]),a.data.data)))}storeLabs$(a){return this.http.post(`${b.N.API}labs_result`,a).pipe((0,h.U)(n=>{let o=this.labSubject$.getValue();return n.data&&(o=[...o,n.data]),this.setLabs(o),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),n.data}))}openSnackBar(a,n,o=""){this.snackBar.open(a,o,{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:n})}}return C.\u0275fac=function(a){return new(a||C)(x.LFG(s.eN),x.LFG(T.ux),x.LFG(t.X))},C.\u0275prov=x.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()}}]);