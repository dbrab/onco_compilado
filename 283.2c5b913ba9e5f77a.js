"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[283],{2283:(F,r,a)=>{a.r(r),a.d(r,{MedicalInstitutionsModule:()=>z});var m=a(9808),p=a(325),I=a(3075),h=a(6087),g=a(4850),u=a(2986),M=a(303),t=a(5e3),v=a(8567),f=a(8966),l=a(9224),C=a(7423),S=a(5245),Z=a(953),y=a(3160);const A=function(){return[20,50,100]},b=[{path:"",component:(()=>{class n{constructor(i,e){this.medicalInstitutionService=i,this.dialog=e,this.columns=[{title:"Nombre",col:"name"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.medicalInstitutionService.resultItems$}ngOnInit(){this.getMedicalInstitutions(this.pageDefault,this.perPage,this.filter,this.orden)}paginatorChange(i){this.getMedicalInstitutions(i.pageIndex+1,i.pageSize)}getMedicalInstitutions(i,e,s,o){this.subscroption=this.medicalInstitutionService.getMedicalInstitutions(i,e,s,o).subscribe(c=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,g.U)(i=>i.data.data.map(s=>({id:s.id,name:s.name})))),this.totalResut=this.result.pipe((0,g.U)(i=>i.data.total))}search(i){this.getMedicalInstitutions(this.pageDefault,this.perPage,i,this.orden)}deleteItem(i){return this.medicalInstitutionService.deleteMedicalInstitution(i)}itemAction(i){"delete"===i.action&&this.deleteItem(i.element.id).pipe((0,u.q)(1)).subscribe(),"edit"===i.action&&this.openDialog("Edita Instituci\xf3n M\xe9dica",i.element)}openDialog(i="Agrega Instituci\xf3n M\xe9dica",e){const s={title:i,data:this.setFields(e)};return this.dialog.open(M.Q,{width:"550px",data:s}).afterClosed().subscribe(c=>{c&&(c.id?this.updateMedicalInstitution(c):this.storeMedicalInstitution(c))})}updateMedicalInstitution(i){this.medicalInstitutionService.updateMedicalInstitution(i).pipe((0,u.q)(1)).subscribe()}storeMedicalInstitution(i){this.medicalInstitutionService.storeMedicalInstitution(i).pipe((0,u.q)(1)).subscribe(e=>{})}setFields(i){return[{nameControl:"id",type:"hidden",value:null==i?void 0:i.id,label:"Id"},{nameControl:"name",type:"text",value:null==i?void 0:i.name,validators:[I.kI.required],label:"Nombre",class:"mvd-col1--1"}]}ngOnDestroy(){this.subscroption.unsubscribe()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(v.d),t.Y36(f.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-medical-institutions"]],viewQuery:function(i,e){if(1&i&&t.Gf(h.NW,7),2&i){let s;t.iGM(s=t.CRH())&&(e.paginator=s.first)}},decls:19,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(i,e){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Instituciones M\xe9dicas"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Administrar Instituciones M\xe9dicas"),t.qZA(),t.TgZ(6,"div",1)(7,"button",2),t.NdJ("click",function(){return e.openDialog()}),t.TgZ(8,"mat-icon",3),t._uU(9,"add"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Crear"),t.qZA()()(),t.TgZ(12,"mvd-input-search",4),t.NdJ("changeSearch",function(o){return e.search(o)}),t.qZA()(),t.TgZ(13,"mat-card-content")(14,"mvd-data-table",5),t.NdJ("actionChange",function(o){return e.itemAction(o)}),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"mat-paginator",6),t.NdJ("page",function(o){return e.paginatorChange(o)}),t.ALo(17,"async"),t.qZA()(),t._UZ(18,"span",7),t.qZA()),2&i&&(t.xp6(12),t.Q6J("noteFilterBy","Filtra por Nombre"),t.xp6(2),t.Q6J("columns",e.columns)("dataSource",t.lcZ(15,6,e.dataSource)),t.xp6(2),t.Q6J("length",t.lcZ(17,8,e.totalResut))("pageSize",e.perPage)("pageSizeOptions",t.DdM(10,A)))},directives:[l.a8,l.dk,l.n5,l.$j,C.lW,S.Hw,Z.V,l.dn,y.Q,h.NW],pipes:[m.Ov],styles:[""]}),n})()}];let T=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(b)],p.Bz]}),n})();var D=a(8203);let z=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.ez,T,D.m]]}),n})()}}]);