"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[34],{2034:(U,m,n)=>{n.r(m),n.d(m,{AuthModule:()=>M});var f=n(9808),i=n(3075),u=n(325),d=n(7224),t=n(5e3),g=n(384),l=n(277),x=n(9224),s=n(7322),p=n(7531),h=n(7423);function v(o,a){if(1&o&&(t.TgZ(0,"p",19),t._uU(1),t.qZA()),2&o){const r=t.oxw();t.xp6(1),t.Oqu(r.error)}}function C(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"OK"),t.qZA())}function F(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Email inv\xe1lido"),t.qZA())}function A(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo requerido"),t.qZA())}const y=[{path:"login",component:(()=>{class o{constructor(r,e,c,b){this.formBuilder=r,this.router=e,this.route=c,this.authService=b,this.submitted=!1,this.error=null}ngOnInit(){this.form=this.formBuilder.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required]]}),this.route.queryParamMap.subscribe(r=>this.returnUrl=r.get("returnUrl")),this.reLogout()}onSubmit(){this.submitted=!0,this.authService.login(this.form.value).pipe((0,d.P)()).subscribe(r=>{this.router.navigate(this.returnUrl?[this.returnUrl]:["/"])},r=>{var e;401===r.status&&"Bad creds"===(null===(e=null==r?void 0:r.error)||void 0===e?void 0:e.message)&&(this.error="Usuario o contrase\xf1a incorrecto")})}reLogout(){localStorage.getItem("currentUser")&&this.authService.logout()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(i.qu),t.Y36(u.F0),t.Y36(u.gz),t.Y36(g.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j3m-login"]],decls:30,vars:5,consts:[["fxFlex","100","fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","center center",1,"container"],["fxFlex","30","fxLayout","row wrap","fxFlex.xs","100","fxFlex.sm","100","fxLayoutAlign","center center",1,"main"],["xFlex","40","fxLayout","row","fxFlex.xs","40","fxFlex.sm","40","fxLayoutAlign","center center"],["fxFlex","100",1,"logo"],["src","../../../assets/images/logo.svg","alt","logo"],["fxFlex","100","fxLayout","row","fxFlex.xs","100","fxFlex.sm","100","fxLayoutAlign","center center",1,"form",3,"formGroup","ngSubmit"],["fxFlex","100","fxLayout","column","fxFlex.xs","100","fxFlex.sm","100","fxLayoutAlign","center center"],["fxLayout","row","fxFlex","100","fxFlex.xs","100","fxFlex.sm","100",1,""],[1,"row"],["class","error",4,"ngIf"],["fxLayout","row","fxFlex","100","fxFlex.xs","100",1,"row"],["appearance","outline","fxLayout","row","fxFlex","100"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],[4,"ngIf"],["matInput","","placeholder","Contrase\xf1a","type","password","formControlName","password","autocomplete","off"],["fxLayout","row","fxFlex","100","fxFlex.xs","100","fxLayout","row","fxFlex","100",1,"row"],["mat-flat-button","","color","primary",1,"btn"],[1,"border"],[1,"border-r"],[1,"error"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA()(),t.TgZ(5,"form",5),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(6,"div",6)(7,"div",7)(8,"h3"),t._uU(9,"Datos de Acceso"),t.qZA()(),t.TgZ(10,"div",8),t.YNc(11,v,2,1,"p",9),t.qZA(),t.TgZ(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),t._uU(15,"Correo electr\xf3nico"),t.qZA(),t._UZ(16,"input",12),t.YNc(17,C,2,0,"mat-error",13),t.YNc(18,F,2,0,"mat-error",13),t.qZA()(),t.TgZ(19,"div",10)(20,"mat-form-field",11)(21,"mat-label"),t._uU(22,"Contrase\xf1a"),t.qZA(),t._UZ(23,"input",14),t.YNc(24,A,2,0,"mat-error",13),t.qZA()(),t.TgZ(25,"div",15)(26,"button",16),t._uU(27,"Entrar"),t.qZA()()()(),t._UZ(28,"span",17)(29,"span",18),t.qZA()()),2&r&&(t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(6),t.Q6J("ngIf",e.error),t.xp6(6),t.Q6J("ngIf",e.form.get("email").valid),t.xp6(1),t.Q6J("ngIf",e.form.get("email").errors),t.xp6(6),t.Q6J("ngIf",e.form.get("password").errors))},directives:[l.yH,l.xw,l.SQ,l.Wh,x.a8,i._Y,i.JL,i.sg,f.O5,s.KE,s.hX,p.Nt,i.Fj,i.JJ,i.u,s.TO,h.lW],styles:[".container[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;padding:1rem;background-color:#e6e8e9;height:100vh}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{background-color:#fff;padding:3rem!important;padding-bottom:3rem;box-shadow:0 0 27px -5px #161721;border-radius:10px}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%!important;display:block!important}.logo[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:contain;object-position:center}.form[_ngcontent-%COMP%]{margin-top:1rem}.form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500}.btn[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{color:red}"]}),o})(),canActivate:[(()=>{class o{constructor(r,e){this.authService=r,this.router=e}canActivate(r,e){return!this.authService.checkUser()||(this.router.navigate(["/"],{queryParams:{returnUrl:e.url}}),!1)}canActivateChild(r,e){return this.canActivate(r,e)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(g.e),t.LFG(u.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]},{path:"",redirectTo:"login",pathMatch:"full"}];let L=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(y)],u.Bz]}),o})();var Z=n(8203);let M=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,L,i.u5,i.UX,Z.m]]}),o})()}}]);