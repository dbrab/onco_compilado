"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[194],{7194:(M,d,i)=>{i.r(d),i.d(d,{SurgeriesModule:()=>J});var c=i(9808),m=i(325),S=i(3075),p=i(6087),h=i(4850),g=i(2986),v=i(303),e=i(5e3),f=i(2149),y=i(8966),u=i(9224),C=i(7423),Z=i(5245),A=i(953),b=i(3160);const T=function(){return[20,50,100]},D=[{path:"",component:(()=>{class r{constructor(t,a){this.surgeryService=t,this.dialog=a,this.columns=[{title:"Nombre",col:"name"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.surgeryService.resultItems$}ngOnInit(){this.getSurgeries(this.pageDefault,this.perPage,this.filter,this.orden)}paginatorChange(t){this.getSurgeries(t.pageIndex+1,t.pageSize)}getSurgeries(t,a,s,n){this.subscroption=this.surgeryService.getSurgeries(t,a,s,n).subscribe(l=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,h.U)(t=>t.data.data.map(s=>({id:s.id,name:s.name})))),this.totalResut=this.result.pipe((0,h.U)(t=>t.data.total))}search(t){this.getSurgeries(this.pageDefault,this.perPage,t,this.orden)}deleteItem(t){return this.surgeryService.deleteSurgery(t)}itemAction(t){"delete"===t.action&&this.deleteItem(t.element.id).pipe((0,g.q)(1)).subscribe(),"edit"===t.action&&this.openDialog("Edita Cirug\xeda",t.element)}openDialog(t="Agrega Cirug\xeda",a){const s={title:t,data:this.setFields(a)};return this.dialog.open(v.Q,{width:"550px",data:s}).afterClosed().subscribe(l=>{l&&(l.id?this.updateSurgery(l):this.storeSurgery(l))})}updateSurgery(t){this.surgeryService.updateSurgery(t).pipe((0,g.q)(1)).subscribe()}storeSurgery(t){this.surgeryService.storeSurgery(t).pipe((0,g.q)(1)).subscribe(a=>{})}setFields(t){return[{nameControl:"id",type:"hidden",value:null==t?void 0:t.id,label:"Id"},{nameControl:"name",type:"text",value:null==t?void 0:t.name,label:"Nombre",validators:[S.kI.required],class:"mvd-col1--1"}]}ngOnDestroy(){this.subscroption.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(f.Z),e.Y36(y.uw))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mvd-surgeries"]],viewQuery:function(t,a){if(1&t&&e.Gf(p.NW,7),2&t){let s;e.iGM(s=e.CRH())&&(a.paginator=s.first)}},decls:19,vars:11,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"noteFilterBy","changeSearch"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],[1,"border"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Cirug\xedas"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"Administrar Cirug\xedas"),e.qZA(),e.TgZ(6,"div",1)(7,"button",2),e.NdJ("click",function(){return a.openDialog()}),e.TgZ(8,"mat-icon",3),e._uU(9,"add"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Crear"),e.qZA()()(),e.TgZ(12,"mvd-input-search",4),e.NdJ("changeSearch",function(n){return a.search(n)}),e.qZA()(),e.TgZ(13,"mat-card-content")(14,"mvd-data-table",5),e.NdJ("actionChange",function(n){return a.itemAction(n)}),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"mat-paginator",6),e.NdJ("page",function(n){return a.paginatorChange(n)}),e.ALo(17,"async"),e.qZA()(),e._UZ(18,"span",7),e.qZA()),2&t&&(e.xp6(12),e.Q6J("noteFilterBy","Filtra por Nombre"),e.xp6(2),e.Q6J("columns",a.columns)("dataSource",e.lcZ(15,6,a.dataSource)),e.xp6(2),e.Q6J("length",e.lcZ(17,8,a.totalResut))("pageSize",a.perPage)("pageSizeOptions",e.DdM(10,T)))},directives:[u.a8,u.dk,u.n5,u.$j,C.lW,Z.Hw,A.V,u.dn,b.Q,p.NW],pipes:[c.Ov],styles:[""]}),r})()}];let z=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[m.Bz.forChild(D)],m.Bz]}),r})();var F=i(8203);let J=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[c.ez,z,F.m]]}),r})()}}]);