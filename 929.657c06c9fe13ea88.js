"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[929],{7315:(ct,G,m)=>{m.d(G,{N:()=>V});var E=m(520),T=m(591),R=m(4850),g=m(2986),t=m(2340),U=m(5e3),d=m(7261),j=m(189);let V=(()=>{class I{constructor(D,C,M){this.http=D,this.snackBar=C,this.ubicationService=M,this.dataOptionsForms$=new T.X(null),this.estadioEditSubject$=new T.X(null),this.urlUtils="src/app/shared/utils/data/",this.resultSubject$=new T.X(null)}get optionsForms$(){return this.dataOptionsForms$}get resultItems$(){return this.resultSubject$}setItems(D){this.resultSubject$.next(D)}get estadioOnEdit(){return this.estadioEditSubject$}setEstadioOnEdit(D){this.estadioEditSubject$.next(D)}storeEstadio(D){return this.http.post(`${t.N.API}estadios`,D).pipe((0,R.U)(C=>(this.getEstadios(1,10,"","desc").pipe((0,g.q)(1)).subscribe(),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),C.data)))}updateEstadio(D){const C=D.id;return D._method="put",this.http.post(`${t.N.API}estadios/${C}`,D).pipe((0,R.U)(M=>(this.getEstadios(1,10,"","desc").pipe((0,g.q)(1)).subscribe(),this.openSnackBar("Actualizado correctamente","success-snack-bar"),M.data)))}deleteEstadio(D){return this.http.delete(`${t.N.API}estadios/${D}`).pipe((0,R.U)(C=>(this.getEstadios(1,10,"","desc").pipe((0,g.q)(1)).subscribe(),this.openSnackBar("Eliminado correctamente","success-snack-bar"),C.data)))}getEstadio(D){return this.http.get(`${t.N.API}estadios/${D}`).pipe((0,R.U)(C=>C.data))}getEstadios(D=1,C=20,M="",Q="desc"){return this.http.get(`${t.N.API}estadios`,{params:(new E.LE).set("page",D.toString()).set("filter",M).set("sort",Q).set("per_page",C.toString())}).pipe((0,R.U)(L=>(this.setEstadioOnEdit(null),this.setItems(L),L)))}openSnackBar(D,C,M=""){this.snackBar.open(D,M,{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:C})}}return I.\u0275fac=function(D){return new(D||I)(U.LFG(E.eN),U.LFG(d.ux),U.LFG(j._))},I.\u0275prov=U.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},5023:(ct,G,m)=>{m.d(G,{V:()=>k});var E=m(6087),T=m(4850),R=m(2986),g=m(5e3),t=m(2075),U=m(325),d=m(953),j=m(4344),V=m(9808),I=m(7423),B=m(5245),D=m(9224),C=m(3160);function M($,z){if(1&$){const x=g.EpF();g.TgZ(0,"button",7),g.NdJ("click",function(){return g.CHM(x),g.oxw(2).add()}),g.TgZ(1,"mat-icon",8),g._uU(2,"add"),g.qZA(),g.TgZ(3,"span"),g._uU(4,"Crear"),g.qZA()()}}function Q($,z){if(1&$&&(g.ynx(0),g.YNc(1,M,5,0,"button",6),g.BQk()),2&$){const x=g.oxw();g.xp6(1),g.Q6J("ngIf",x.patient)}}const L=function(){return["sample.create"]},it=function(){return[20,50,100]};let k=(()=>{class ${constructor(x,F){this.sampleService=x,this.router=F,this.columns=[{title:"C\xf3digo",col:"code"},{title:"Tipo de Muestra",col:"type_sample_name"},{title:"Topografia",col:"topography_name"},{title:"Etapa Actual",col:"trace_now"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.subscriptions=[],this.result=this.sampleService.resultItems$}paginatorChange(x){this.getSamples(x.pageIndex+1,x.pageSize)}ngOnInit(){var x;this.getSamples(this.pageDefault,this.perPage,this.filter,this.orden,null===(x=this.patient)||void 0===x?void 0:x.id)}add(){var x;this.router.navigate(["/muestras/muestra"],{queryParams:{urlReturn:this.router.url,patient_id:null===(x=this.patient)||void 0===x?void 0:x.id}})}getSamples(x,F,b,w,u){this.subscriptions.push(this.sampleService.getSamples(x,F,b,w,u).subscribe(f=>this.loadData()))}loadData(){this.dataSource=this.result.pipe((0,T.U)(x=>(console.log(x.data.data),x.data.data.map(b=>{var w,u,f,A,y,O,p;return console.log(null===(u=null===(w=null==b?void 0:b.traces_sample[0])||void 0===w?void 0:w.stage)||void 0===u?void 0:u.name),{id:b.id,code:b.code,patient_id:null==b?void 0:b.patient_id,type_sample_name:null===(f=null==b?void 0:b.type_sample)||void 0===f?void 0:f.name,type_sample_id:null==b?void 0:b.type_sample_id,tumor_lineage_id:null==b?void 0:b.tumor_lineage_id,tumor_lineage_name:null===(A=null==b?void 0:b.tumor_lineage)||void 0===A?void 0:A.name,tnm_id:null==b?void 0:b.tnm_id,topography_id:null==b?void 0:b.topography_id,topography_name:null===(y=null==b?void 0:b.topography)||void 0===y?void 0:y.name,trace_now:null===(p=null===(O=null==b?void 0:b.traces_sample[0])||void 0===O?void 0:O.stage)||void 0===p?void 0:p.name,traces_sample:null==b?void 0:b.traces_sample}})))),this.totalResut=this.result.pipe((0,T.U)(x=>x.data.total))}search(x){var F;this.getSamples(this.pageDefault,this.perPage,x,this.orden,null===(F=this.patient)||void 0===F?void 0:F.id)}deleteItem(x){return this.sampleService.deleteSample(x)}cloneItem(x){return this.sampleService.cloneSample(x)}itemAction(x){var F;"delete"===x.action&&this.deleteItem(x.element.id).pipe((0,R.q)(1)).subscribe(b=>console.log(b)),"edit"===x.action&&this.router.navigate(["/muestras/muestra",x.element.id],{queryParams:{urlReturn:this.router.url,patient_id:null===(F=this.patient)||void 0===F?void 0:F.id}}),"clone"===x.action&&this.subscriptions.push(this.cloneItem(x.element.id).pipe().subscribe(b=>{var w;this.router.navigate(["/muestras/muestra",b.id],{queryParams:{urlReturn:this.router.url,patient_id:null===(w=this.patient)||void 0===w?void 0:w.id}})}))}ngOnDestroy(){this.subscriptions.map(x=>x.unsubscribe()),this.sampleService.setSampleOnEdit(null)}}return $.\u0275fac=function(x){return new(x||$)(g.Y36(t.e),g.Y36(U.F0))},$.\u0275cmp=g.Xpm({type:$,selectors:[["mvd-samples-table"]],viewQuery:function(x,F){if(1&x&&g.Gf(E.NW,7),2&x){let b;g.iGM(b=g.CRH())&&(F.paginator=b.first)}},inputs:{patient:"patient"},decls:9,vars:14,consts:[[1,"header-table"],[3,"noteFilterBy","changeSearch"],[1,"actions"],[4,"mvdPermissions"],[3,"columns","dataSource","btnClone","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"]],template:function(x,F){1&x&&(g.TgZ(0,"div",0)(1,"mvd-input-search",1),g.NdJ("changeSearch",function(w){return F.search(w)}),g.qZA(),g.TgZ(2,"div",2),g.YNc(3,Q,2,1,"ng-container",3),g.qZA()(),g.TgZ(4,"mat-card-content")(5,"mvd-data-table",4),g.NdJ("actionChange",function(w){return F.itemAction(w)}),g.ALo(6,"async"),g.qZA(),g.TgZ(7,"mat-paginator",5),g.NdJ("page",function(w){return F.paginatorChange(w)}),g.ALo(8,"async"),g.qZA()()),2&x&&(g.xp6(1),g.Q6J("noteFilterBy","Filtra c\xf3digo, tipo, topograf\xeda etc. Tambi\xe9n filtrar\xe1 por datos del paciente"),g.xp6(2),g.Q6J("mvdPermissions",g.DdM(12,L)),g.xp6(2),g.Q6J("columns",F.columns)("dataSource",g.lcZ(6,8,F.dataSource))("btnClone",!0),g.xp6(2),g.Q6J("length",g.lcZ(8,10,F.totalResut))("pageSize",F.perPage)("pageSizeOptions",g.DdM(13,it)))},directives:[d.V,j.$,V.O5,I.lW,B.Hw,D.dn,C.Q,E.NW],pipes:[V.Ov],styles:[".header-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;grid-gap:1rem;gap:1rem}.header-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);justify-content:space-around!important;justify-items:right;grid-column-gap:5px;column-gap:5px}.header-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:38px}"]}),$})()},2929:(ct,G,m)=>{m.r(G),m.d(G,{SamplesModule:()=>la});var E=m(9808),T=m(325),R=m(2986),g=m(6359),t=m(5e3),U=m(2075),d=m(8966),j=m(6732),V=m(9224),I=m(277),B=m(7423),D=m(4344),C=m(3075),M=m(13),Q=m(7e3),L=m(5120),it=m(3327),k=m(7322),$=m(4107),z=m(508),x=m(7510),F=m(7531);function b(n,s){if(1&n&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function w(n,s){if(1&n&&(t.ynx(0),t.YNc(1,b,2,2,"mat-option",8),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function u(n,s){if(1&n&&(t.TgZ(0,"form",1)(1,"mat-form-field",2)(2,"mat-label"),t._uU(3,"Tipo Muestra"),t.qZA(),t.TgZ(4,"mat-select",3),t.YNc(5,w,2,1,"ng-container",4),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"mat-error"),t._UZ(8,"mvd-errors-messages",5),t.qZA()(),t.TgZ(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"C\xf3digo"),t.qZA(),t._UZ(12,"input",7),t.TgZ(13,"mat-error"),t._UZ(14,"mvd-errors-messages",5),t.qZA()()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngIf",t.lcZ(6,6,e.typesSamples)),t.xp6(3),t.Q6J("campo",e.form.get("type_sample_id").errors)("name","Tipo de Muestra"),t.xp6(6),t.Q6J("campo",e.form.get("code").errors)("name","C\xf3digo")}}let f=(()=>{class n{constructor(e,r,l,h){this.fb=e,this.patientService=r,this.typeSampleService=l,this.sampleService=h,this.sampleIdentification=new t.vpe,this.subscriptions=[],this.dataSelects=this.patientService.dataSelect()}ngOnInit(){this.loadData(),this.createForm(),this.subscriptions.push(this.sampleService.sampleOnEdit.subscribe(e=>{this.sampleEdit=e,this.sampleEdit?this.updateForm(this.sampleEdit):this.setCode()}))}createForm(){this.form=this.fb.group({id:[],code:[null,C.kI.required,Q.e.validateCode(this.sampleService)],patient_id:[this.patient_id,C.kI.required],type_sample_id:[null]}),this.form.valueChanges.pipe((0,M.b)(500)).subscribe(e=>{this.sampleIdentification.emit(this.form)})}updateForm(e){this.form.setValue({id:e.id,code:null==e?void 0:e.code,patient_id:null==e?void 0:e.patient_id,type_sample_id:null==e?void 0:e.type_sample_id}),this.sampleIdentification.emit(this.form)}setCode(){var e;(null===(e=this.sampleEdit)||void 0===e?void 0:e.code)||this.subscriptions.push(this.sampleService.genCode().subscribe(r=>{this.form.get("code").setValue(r)}))}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe())}loadData(){this.typesSamples=this.typeSampleService.listTypeSampleItems$}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.qu),t.Y36(L.$),t.Y36(it.p),t.Y36(U.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-identification-sample"]],inputs:{patient_id:"patient_id"},outputs:{sampleIdentification:"sampleIdentification"},decls:1,vars:1,consts:[["fxFlex","100","fxLayoutGap","6px","fxLayout","row wrap","fxLayoutAlign","start center",3,"formGroup",4,"ngIf"],["fxFlex","100","fxLayoutGap","6px","fxLayout","row wrap","fxLayoutAlign","start center",3,"formGroup"],["appearance","outline","fxFlex","16","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",1,""],["placeholder","Seleccione...","formControlName","type_sample_id"],[4,"ngIf"],[3,"campo","name"],["appearance","outline","fxFlex","16","fxFlex.lt-md","100",1,""],["formControlName","code","matInput","","type","text","placeholder","C\xf3digo Muestra"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){1&e&&t.YNc(0,u,15,8,"form",0),2&e&&t.Q6J("ngIf",r.form)},directives:[E.O5,C._Y,C.JL,I.yH,I.SQ,I.xw,I.Wh,C.sg,k.KE,I.UT,k.hX,$.gD,C.JJ,C.u,E.sg,z.ey,k.TO,x.g,C.Fj,F.Nt],pipes:[E.Ov],styles:[""]}),n})();var A=m(3251),y=m(5439),O=m.n(y),p=m(7446),P=m(6856);function X(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",14),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"trat_q_date")})("click",function(){return t.CHM(e),t.MAs(6).open()}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,16),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function W(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function tt(n,s){if(1&n&&(t.ynx(0),t.YNc(1,W,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_oncologicos)}}function rt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",18),t.YNc(4,tt,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("trat_q_criterio").errors)("name","Estadio")}}function Jt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",24),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("trat_q_plan").errors)("name","Plan")}}function Rt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",25),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"radio_t_date")}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,26),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function bt(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Qt(n,s){if(1&n&&(t.ynx(0),t.YNc(1,bt,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_tratamientos)}}function yt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",27),t.YNc(4,Qt,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("radio_t_criterio").errors)("name","Estadio")}}function St(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",28),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("radio_t_plan").errors)("name","Plan")}}function Bt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",29),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"quimio_date")}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,30),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function At(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Dt(n,s){if(1&n&&(t.ynx(0),t.YNc(1,At,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_tratamientos)}}function Zt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",31),t.YNc(4,Dt,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("quimio_criterio").errors)("name","Estadio")}}function Et(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",32),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("quimio_plan").errors)("name","Plan")}}function Ot(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",33),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"homo_date")}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,34),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function It(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Mt(n,s){if(1&n&&(t.ynx(0),t.YNc(1,It,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_tratamientos)}}function kt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",35),t.YNc(4,Mt,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("homo_criterio").errors)("name","Estadio")}}function wt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",36),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("homo_plan").errors)("name","Plan")}}function Nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",37),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"terapia_bio_date")}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,38),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function Ft(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Ut(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ft,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_tratamientos)}}function $t(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",39),t.YNc(4,Ut,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("terapia_bio_criterio").errors)("name","Estadio")}}function Pt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",40),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("terapia_bio_plan").errors)("name","Plan")}}function Yt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",41),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"inmuno_terapia_date")}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,42),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function Ce(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Gt(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ce,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_tratamientos)}}function xe(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",43),t.YNc(4,Gt,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("inmuno_terapia_criterio").errors)("name","Estadio")}}function jt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",44),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("inmuno_terapia_plan").errors)("name","Plan")}}function Te(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"mat-label"),t._uU(2,"Fecha"),t.qZA(),t.TgZ(3,"input",45),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw(2).formatDate(l,"otros_date")}),t.qZA(),t._UZ(4,"mat-datepicker-toggle",15)(5,"mat-datepicker",null,46),t.qZA()}if(2&n){const e=t.MAs(6);t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e)}}function Wt(n,s){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function be(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Wt,2,2,"mat-option",21),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e.criterios_oncologicos)}}function Kt(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Criterio"),t.qZA(),t.TgZ(3,"mat-select",47),t.YNc(4,be,2,1,"ng-container",19),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-error"),t._UZ(7,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,e.dataSelects)),t.xp6(3),t.Q6J("campo",e.form.get("otros_criterio").errors)("name","Estadio")}}function ye(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"Plan"),t.qZA(),t._UZ(3,"input",48),t.TgZ(4,"mat-error"),t._UZ(5,"mvd-errors-messages",20),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("campo",e.form.get("otros_plan").errors)("name","Plan")}}function Ht(n,s){if(1&n&&(t.TgZ(0,"form",1)(1,"div",2)(2,"mat-checkbox",3),t._uU(3,"Tratamiento quir\xfargico "),t.qZA(),t.YNc(4,X,7,2,"mat-form-field",4),t.YNc(5,rt,8,5,"mat-form-field",5),t.YNc(6,Jt,6,2,"mat-form-field",6),t.qZA(),t.TgZ(7,"div",2)(8,"mat-checkbox",7),t._uU(9,"Radio Terapia"),t.qZA(),t.YNc(10,Rt,7,2,"mat-form-field",4),t.YNc(11,yt,8,5,"mat-form-field",5),t.YNc(12,St,6,2,"mat-form-field",6),t.qZA(),t.TgZ(13,"div",2)(14,"mat-checkbox",8),t._uU(15,"Quimioterapia"),t.qZA(),t.YNc(16,Bt,7,2,"mat-form-field",4),t.YNc(17,Zt,8,5,"mat-form-field",5),t.YNc(18,Et,6,2,"mat-form-field",6),t.qZA(),t.TgZ(19,"div",2)(20,"mat-checkbox",9),t._uU(21,"Hormonoterapia"),t.qZA(),t.YNc(22,Ot,7,2,"mat-form-field",4),t.YNc(23,kt,8,5,"mat-form-field",5),t.YNc(24,wt,6,2,"mat-form-field",6),t.qZA(),t.TgZ(25,"div",2)(26,"mat-checkbox",10),t._uU(27,"Terapia Biol\xf3gica "),t.qZA(),t.YNc(28,Nt,7,2,"mat-form-field",4),t.YNc(29,$t,8,5,"mat-form-field",5),t.YNc(30,Pt,6,2,"mat-form-field",6),t.qZA(),t.TgZ(31,"div",2)(32,"mat-checkbox",11),t._uU(33,"Inmunoterapia "),t.qZA(),t.YNc(34,Yt,7,2,"mat-form-field",4),t.YNc(35,xe,8,5,"mat-form-field",5),t.YNc(36,jt,6,2,"mat-form-field",6),t.qZA(),t.TgZ(37,"div",2)(38,"mat-checkbox",12),t._uU(39,"Otros"),t.qZA(),t.YNc(40,Te,7,2,"mat-form-field",4),t.YNc(41,Kt,8,5,"mat-form-field",5),t.YNc(42,ye,6,2,"mat-form-field",6),t.qZA()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("ngIf",e.form.get("trat_q").value),t.xp6(1),t.Q6J("ngIf",e.form.get("trat_q").value),t.xp6(1),t.Q6J("ngIf",e.form.get("trat_q").value),t.xp6(4),t.Q6J("ngIf",e.form.get("radio_t").value),t.xp6(1),t.Q6J("ngIf",e.form.get("radio_t").value),t.xp6(1),t.Q6J("ngIf",e.form.get("radio_t").value),t.xp6(4),t.Q6J("ngIf",e.form.get("quimio").value),t.xp6(1),t.Q6J("ngIf",e.form.get("quimio").value),t.xp6(1),t.Q6J("ngIf",e.form.get("quimio").value),t.xp6(4),t.Q6J("ngIf",e.form.get("homo").value),t.xp6(1),t.Q6J("ngIf",e.form.get("homo").value),t.xp6(1),t.Q6J("ngIf",e.form.get("homo").value),t.xp6(4),t.Q6J("ngIf",e.form.get("terapia_bio").value),t.xp6(1),t.Q6J("ngIf",e.form.get("terapia_bio").value),t.xp6(1),t.Q6J("ngIf",e.form.get("terapia_bio").value),t.xp6(4),t.Q6J("ngIf",e.form.get("inmuno_terapia").value),t.xp6(1),t.Q6J("ngIf",e.form.get("inmuno_terapia").value),t.xp6(1),t.Q6J("ngIf",e.form.get("inmuno_terapia").value),t.xp6(4),t.Q6J("ngIf",e.form.get("otros").value),t.xp6(1),t.Q6J("ngIf",e.form.get("otros").value),t.xp6(1),t.Q6J("ngIf",e.form.get("otros").value)}}let Se=(()=>{class n{constructor(e,r,l){this.fb=e,this.patientService=r,this.sampleService=l,this.sampleData=new t.vpe,this.subscriptions=[],this.createForm()}ngOnInit(){this.loadData(),this.createForm(),this.subscriptions.push(this.sampleService.sampleOnEdit.subscribe(e=>{this.sampleEdit=e,this.sampleEdit&&this.updateForm(this.sampleEdit)}))}createForm(){this.form=this.fb.group({trat_q:[!1],trat_q_date:[],trat_q_criterio:[],trat_q_plan:[],radio_t:[!1],radio_t_date:[],radio_t_criterio:[],radio_t_plan:[],quimio:[!1],quimio_date:[],quimio_criterio:[],quimio_plan:[],homo:[!1],homo_date:[],homo_criterio:[],homo_plan:[],terapia_bio:[!1],terapia_bio_date:[],terapia_bio_criterio:[],terapia_bio_plan:[],inmuno_terapia:[!1],inmuno_terapia_date:[],inmuno_terapia_criterio:[],inmuno_terapia_plan:[],otros:[!1],otros_date:[],otros_criterio:[],otros_plan:[],sample_id:[]}),this.form.valueChanges.pipe((0,M.b)(500)).subscribe(e=>{this.sampleData.emit(this.form)})}updateForm(e){var r,l,h,Z,J,H,ot,nt,dt,pt,_t,ft,gt,ht,vt,Ct,xt,Qe,Be,ke,we,$e,Ye,Ge,je,We,Ke,He,ze;console.log(e),this.form.patchValue({trat_q:null===(r=e.sample_data)||void 0===r?void 0:r.trat_q,trat_q_date:null===(l=e.sample_data)||void 0===l?void 0:l.trat_q_date,trat_q_criterio:null===(h=e.sample_data)||void 0===h?void 0:h.trat_q_criterio,trat_q_plan:null===(Z=e.sample_data)||void 0===Z?void 0:Z.trat_q_plan,radio_t:null===(J=e.sample_data)||void 0===J?void 0:J.radio_t,radio_t_date:null===(H=e.sample_data)||void 0===H?void 0:H.radio_t_date,radio_t_criterio:null===(ot=e.sample_data)||void 0===ot?void 0:ot.radio_t_criterio,radio_t_plan:null===(nt=e.sample_data)||void 0===nt?void 0:nt.radio_t_plan,quimio:null===(dt=e.sample_data)||void 0===dt?void 0:dt.quimio,quimio_date:null===(pt=e.sample_data)||void 0===pt?void 0:pt.quimio_date,quimio_criterio:null===(_t=e.sample_data)||void 0===_t?void 0:_t.quimio_criterio,quimio_plan:null===(ft=e.sample_data)||void 0===ft?void 0:ft.quimio_plan,homo:null===(gt=e.sample_data)||void 0===gt?void 0:gt.homo,homo_date:null===(ht=e.sample_data)||void 0===ht?void 0:ht.homo_date,homo_criterio:null===(vt=e.sample_data)||void 0===vt?void 0:vt.homo_criterio,homo_plan:null===(Ct=e.sample_data)||void 0===Ct?void 0:Ct.homo_plan,terapia_bio:null===(xt=e.sample_data)||void 0===xt?void 0:xt.terapia_bio,terapia_bio_date:null===(Qe=e.sample_data)||void 0===Qe?void 0:Qe.terapia_bio_date,terapia_bio_criterio:null===(Be=e.sample_data)||void 0===Be?void 0:Be.terapia_bio_criterio,terapia_bio_plan:null===(ke=e.sample_data)||void 0===ke?void 0:ke.terapia_bio_plan,inmuno_terapia:null===(we=e.sample_data)||void 0===we?void 0:we.inmuno_terapia,inmuno_terapia_date:null===($e=e.sample_data)||void 0===$e?void 0:$e.inmuno_terapia_date,inmuno_terapia_criterio:null===(Ye=e.sample_data)||void 0===Ye?void 0:Ye.inmuno_terapia_criterio,inmuno_terapia_plan:null===(Ge=e.sample_data)||void 0===Ge?void 0:Ge.inmuno_terapia_plan,otros:null===(je=e.sample_data)||void 0===je?void 0:je.otros,otros_date:null===(We=e.sample_data)||void 0===We?void 0:We.otros_date,otros_criterio:null===(Ke=e.sample_data)||void 0===Ke?void 0:Ke.otros_criterio,otros_plan:null===(He=e.sample_data)||void 0===He?void 0:He.otros_plan,sample_id:null===(ze=e.sample_data)||void 0===ze?void 0:ze.sample_id}),this.sampleData.emit(this.form)}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe())}formatDate(e,r){let l=e.value;this.form.get(r).setValue(O()(l).format("YYYY-MM-DD HH:mm:ss"))}loadData(){this.dataSelects=this.patientService.dataSelect()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.qu),t.Y36(L.$),t.Y36(U.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-sample-data"]],outputs:{sampleData:"sampleData"},decls:1,vars:1,consts:[["fxFlex","100","fxLayoutGap","6px","fxLayout","row wrap","fxLayoutAlign","start center",3,"formGroup",4,"ngIf"],["fxFlex","100","fxLayoutGap","6px","fxLayout","row wrap","fxLayoutAlign","start center",3,"formGroup"],["fxFlex","100","fxLayout","row wrap","fxLayoutGap","2rem","fxLayoutAlign","start stretch",1,"content-column-checkbox"],["color","primary","formControlName","trat_q","fxFlex","20",1,"checkbox"],["class","","appearance","outline","fxFlex","20","fxFlex.lt-md","100",4,"ngIf"],["class","","appearance","outline","fxFlex","20","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",4,"ngIf"],["class","","appearance","outline","fxFlex","30","fxFlex.lt-md","100",4,"ngIf"],["color","primary","formControlName","radio_t","fxFlex","20",1,"checkbox"],["color","primary","formControlName","quimio","fxFlex","20",1,"checkbox"],["color","primary","formControlName","homo","fxFlex","20",1,"checkbox"],["color","primary","formControlName","terapia_bio","fxFlex","20",1,"checkbox"],["color","primary","formControlName","inmuno_terapia","fxFlex","20",1,"checkbox"],["color","primary","formControlName","otros","fxFlex","20",1,"checkbox"],["appearance","outline","fxFlex","20","fxFlex.lt-md","100",1,""],["formControlName","trat_q_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange","click"],["matSuffix","",3,"for"],["picker",""],["appearance","outline","fxFlex","20","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",1,""],["placeholder","Seleccione...","formControlName","trat_q_criterio"],[4,"ngIf"],[3,"campo","name"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","outline","fxFlex","30","fxFlex.lt-md","100",1,""],["formControlName","trat_q_plan","matInput","","type","text","placeholder","Plan"],["formControlName","radio_t_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange"],["picker_radio",""],["placeholder","Seleccione...","formControlName","radio_t_criterio"],["formControlName","radio_t_plan","matInput","","type","text","placeholder","Plan"],["formControlName","quimio_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange"],["picker_quimio",""],["placeholder","Seleccione...","formControlName","quimio_criterio"],["formControlName","quimio_plan","matInput","","type","text","placeholder","Plan"],["formControlName","homo_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange"],["picker_hormono",""],["placeholder","Seleccione...","formControlName","homo_criterio"],["formControlName","homo_plan","matInput","","type","text","placeholder","Plan"],["formControlName","terapia_bio_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange"],["picker_bio",""],["placeholder","Seleccione...","formControlName","terapia_bio_criterio"],["formControlName","terapia_bio_plan","matInput","","type","text","placeholder","Plan"],["formControlName","inmuno_terapia_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange"],["picker_inmuno",""],["placeholder","Seleccione...","formControlName","inmuno_terapia_criterio"],["formControlName","inmuno_terapia_plan","matInput","","type","text","placeholder","Plan"],["formControlName","otros_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange"],["picker_otro",""],["placeholder","Seleccione...","formControlName","otros_criterio"],["formControlName","otros_plan","matInput","","type","text","placeholder","Plan"]],template:function(e,r){1&e&&t.YNc(0,Ht,43,22,"form",0),2&e&&t.Q6J("ngIf",r.form)},directives:[E.O5,C._Y,C.JL,I.yH,I.SQ,I.xw,I.Wh,C.sg,p.oG,C.JJ,C.u,k.KE,k.hX,C.Fj,F.Nt,P.hl,P.nW,k.R9,P.Mq,I.UT,$.gD,E.sg,z.ey,k.TO,x.g],pipes:[E.Ov],styles:["h3[_ngcontent-%COMP%]{font-weight:500}.content-column-checkbox[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding:10px 10px 27px}.content-groups[_ngcontent-%COMP%]{width:100%}.bg-row[_ngcontent-%COMP%]{background-color:#e1f5fe}.chip-antecedentes[_ngcontent-%COMP%]{min-height:20px!important;font-weight:400;font-size:12px}"],changeDetection:0}),n})();var et=m(4850),Ae=m(7315),zt=m(2730),De=m(4539),Xt=m(6891),te=m(5245);function ee(n,s){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ze(n,s){if(1&n&&(t.TgZ(0,"mat-form-field",29)(1,"mat-label"),t._uU(2,"Estirpe Tumoral"),t.qZA(),t.TgZ(3,"mat-select",30),t.YNc(4,ee,2,2,"mat-option",31),t.qZA(),t.TgZ(5,"mat-error"),t._UZ(6,"mvd-errors-messages",8),t.qZA()()),2&n){const e=s.ngIf,r=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e),t.xp6(2),t.Q6J("campo",r.form.get("tumor_lineage_id").errors)("name","Estirpe")}}function ae(n,s){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Ee(n,s){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function oe(n,s){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Oe(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",33)(2,"mat-form-field",34)(3,"mat-label"),t._uU(4,"T"),t.qZA(),t.TgZ(5,"mat-select",35),t.YNc(6,ae,2,2,"mat-option",31),t.qZA()(),t.TgZ(7,"mat-form-field",34)(8,"mat-label"),t._uU(9,"N"),t.qZA(),t.TgZ(10,"mat-select",36),t.YNc(11,Ee,2,2,"mat-option",31),t.qZA()(),t.TgZ(12,"mat-form-field",34)(13,"mat-label"),t._uU(14,"M"),t.qZA(),t.TgZ(15,"mat-select",37),t.YNc(16,oe,2,2,"mat-option",31),t.qZA()()(),t.BQk()),2&n){const e=s.ngIf;t.xp6(6),t.Q6J("ngForOf",e.tnm_t),t.xp6(5),t.Q6J("ngForOf",e.tnm_n),t.xp6(5),t.Q6J("ngForOf",e.tnm_m)}}function ne(n,s){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Ie(n,s){if(1&n&&(t.ynx(0),t.YNc(1,ne,2,2,"mat-option",31),t.BQk()),2&n){const e=s.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function ie(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",1)(1,"div",2),t.YNc(2,Ze,7,3,"mat-form-field",3),t.ALo(3,"async"),t.TgZ(4,"mvd-input-select-add-item",4),t.NdJ("changeValue",function(l){return t.CHM(e),t.oxw().changeTopography(l)}),t.qZA()(),t.TgZ(5,"div",2),t.YNc(6,Oe,17,3,"ng-container",5),t.ALo(7,"async"),t.TgZ(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Estadio"),t.qZA(),t.TgZ(11,"mat-select",7),t.YNc(12,Ie,2,1,"ng-container",5),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"mat-error"),t._UZ(15,"mvd-errors-messages",8),t.qZA()()(),t.TgZ(16,"div",2)(17,"mat-checkbox",9),t._uU(18,"Informe de anatom\xeda Patol\xf3gica "),t.qZA(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Fecha"),t.qZA(),t.TgZ(22,"input",11),t.NdJ("dateChange",function(l){return t.CHM(e),t.oxw().formatDate(l,"anatomia_date")})("click",function(){return t.CHM(e),t.MAs(25).open()}),t.qZA(),t._UZ(23,"mat-datepicker-toggle",12)(24,"mat-datepicker",null,13),t.qZA()(),t.TgZ(26,"div",2)(27,"mat-checkbox",14),t._uU(28,"Biopsia"),t.qZA(),t.TgZ(29,"mat-checkbox",15),t._uU(30,"A partir de resecci\xf3n Quir\xfargica "),t.qZA()(),t.TgZ(31,"div",2)(32,"mat-checkbox",16),t._uU(33,"Paciente con cancer "),t.qZA()(),t.TgZ(34,"div",2)(35,"mat-form-field",17)(36,"mat-label"),t._uU(37,"Tipo Operaci\xf3n"),t.qZA(),t._UZ(38,"input",18),t.TgZ(39,"mat-error"),t._UZ(40,"mvd-errors-messages",8),t.qZA()(),t.TgZ(41,"mat-form-field",19)(42,"mat-label"),t._uU(43,"Porcentaje necrosis tumoral"),t.qZA(),t._UZ(44,"input",20),t.TgZ(45,"span",21)(46,"mat-icon",22),t._uU(47,"percent"),t.qZA()(),t.TgZ(48,"mat-error"),t._UZ(49,"mvd-errors-messages",8),t.qZA()(),t.TgZ(50,"mat-form-field",10)(51,"mat-label"),t._uU(52,"Linfocito Intra Tumoral"),t.qZA(),t._UZ(53,"input",23),t.TgZ(54,"mat-error"),t._UZ(55,"mvd-errors-messages",8),t.qZA()()(),t.TgZ(56,"div",24)(57,"p"),t._uU(58,"Tiempo isquemia fr\xeda"),t.qZA(),t.TgZ(59,"mat-form-field",25)(60,"mat-label"),t._uU(61,"Minutos"),t.qZA(),t._UZ(62,"input",26),t.TgZ(63,"mat-error"),t._UZ(64,"mvd-errors-messages",8),t.qZA()()(),t.TgZ(65,"div",2)(66,"mat-form-field",27)(67,"mat-label"),t._uU(68,"Observaciones"),t.qZA(),t._UZ(69,"textarea",28),t.qZA()()()}if(2&n){const e=t.MAs(25),r=t.oxw();t.Q6J("formGroup",r.form),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,20,r.tumorLineages)),t.xp6(2),t.Q6J("value",r.valueSelect)("options",r.optionsTopographies)("namePlaceholder","Topograf\xeda")("addOptionEnabled",!1),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,22,r.dataSelects$)),t.xp6(6),t.Q6J("ngIf",t.lcZ(13,24,r.estadios)),t.xp6(3),t.Q6J("campo",r.form.get("estadio_id").errors)("name","Estadio"),t.xp6(7),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(17),t.Q6J("campo",r.form.get("operacion").errors)("name","Tipo operaci\xf3n"),t.xp6(9),t.Q6J("campo",r.form.get("necrosis_tumoral_cant").errors)("name","Porcentaje necrosis tumoral"),t.xp6(6),t.Q6J("campo",r.form.get("linfocito_intra_tumoral").errors)("name","Linfocito Intra Tumoral"),t.xp6(9),t.Q6J("campo",r.form.get("isquemia_min").errors)("name","Minutos")}}let Me=(()=>{class n{constructor(e,r,l,h,Z,J){this.fb=e,this.sampleService=r,this.estadioService=l,this.tumorLineageService=h,this.topographyService=Z,this.patientService=J,this.anatomopatologicalData=new t.vpe,this.subscriptions=[],this.optionsTopographies=[]}ngOnInit(){this.loadData(),this.createForm(),this.dataSelects$=this.patientService.dataSelect(),this.subscriptions.push(this.sampleService.sampleOnEdit.subscribe(e=>{this.sampleEdit=e,this.sampleEdit&&this.updateForm(this.sampleEdit)}))}createForm(){this.form=this.fb.group({estadio_id:[],anatomia:[],anatomia_date:[],biopsia:[],reseccion_q:[],con_cancer:[],operacion:[],isquemia_min:[],isquemia_seg:[],tacos_cant:[],laminas_cant:[],necrosis_tumoral_cant:[],sample_id:[],tumor_lineage_id:[null],linfocito_intra_tumoral:[null],tnm_t:[null],tnm_n:[null],tnm_m:[null],topography_id:[null]}),this.form.valueChanges.pipe((0,M.b)(500)).subscribe(e=>{this.anatomopatologicalData.emit(this.form)})}updateForm(e){var r,l,h,Z,J,H,ot,nt,dt,pt,_t,ft,gt,ht,vt,Ct,xt;this.form.patchValue({estadio_id:null===(r=e.sample_data_anatomo)||void 0===r?void 0:r.estadio_id,anatomia:null===(l=e.sample_data_anatomo)||void 0===l?void 0:l.anatomia,anatomia_date:null===(h=e.sample_data_anatomo)||void 0===h?void 0:h.anatomia_date,biopsia:null===(Z=e.sample_data_anatomo)||void 0===Z?void 0:Z.biopsia,reseccion_q:null===(J=e.sample_data_anatomo)||void 0===J?void 0:J.reseccion_q,con_cancer:null===(H=e.sample_data_anatomo)||void 0===H?void 0:H.con_cancer,operacion:null===(ot=e.sample_data_anatomo)||void 0===ot?void 0:ot.operacion,isquemia_min:null===(nt=e.sample_data_anatomo)||void 0===nt?void 0:nt.isquemia_min,isquemia_seg:null===(dt=e.sample_data_anatomo)||void 0===dt?void 0:dt.isquemia_seg,tacos_cant:null===(pt=e.sample_data_anatomo)||void 0===pt?void 0:pt.tacos_cant,laminas_cant:null===(_t=e.sample_data_anatomo)||void 0===_t?void 0:_t.laminas_cant,necrosis_tumoral_cant:null===(ft=e.sample_data_anatomo)||void 0===ft?void 0:ft.necrosis_tumoral_cant,sample_id:null===(gt=e.sample_data_anatomo)||void 0===gt?void 0:gt.sample_id,linfocito_intra_tumoral:null===(ht=null==e?void 0:e.sample_data_anatomo)||void 0===ht?void 0:ht.linfocito_intra_tumoral,tumor_lineage_id:null==e?void 0:e.tumor_lineage_id,tnm_t:null===(vt=e.sample_data_anatomo)||void 0===vt?void 0:vt.tnm_t,tnm_n:null===(Ct=e.sample_data_anatomo)||void 0===Ct?void 0:Ct.tnm_n,tnm_m:null===(xt=e.sample_data_anatomo)||void 0===xt?void 0:xt.tnm_m,topography_id:null==e?void 0:e.topography_id}),this.anatomopatologicalData.emit(this.form)}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe())}formatDate(e,r){let l=e.value;this.form.get(r).setValue(O()(l).format("YYYY-MM-DD HH:mm:ss"))}loadData(){this.estadios=this.estadioService.getEstadios(1,1e3).pipe((0,et.U)(e=>e.data.data)),this.tumorLineages=this.tumorLineageService.listTumorLineageItems$,this.formatOptionsSelectTopograpy()}changeTopography(e){this.form.get("topography_id").setValue(e),this.valueSelect=e}formatOptionsSelectTopograpy(){this.topographyService.listTopographiesItems$.subscribe(e=>{this.topographies=e,this.optionsTopographies=e.map(r=>({value:r.id,text:`${r.name} - CIE 10 ${r.cie10}`}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.qu),t.Y36(U.e),t.Y36(Ae.N),t.Y36(zt.y),t.Y36(De.E),t.Y36(L.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-anatomopathological"]],outputs:{anatomopatologicalData:"anatomopatologicalData"},decls:1,vars:1,consts:[["fxFlex","100","fxLayoutGap","6px","fxLayout","row wrap","fxLayoutAlign","start center",3,"formGroup",4,"ngIf"],["fxFlex","100","fxLayoutGap","6px","fxLayout","row wrap","fxLayoutAlign","start center",3,"formGroup"],["fxFlex","100","fxLayout","row wrap","fxLayoutGap","2rem","fxLayoutAlign","start stretch",1,"content-column-checkbox"],["class","","appearance","outline","fxFlex","calc(16% + 6px)","fxFlex.lt-md","100",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","calc(16% + 6px)","fxFlex.lt-md","100",3,"value","options","namePlaceholder","addOptionEnabled","changeValue"],[4,"ngIf"],["appearance","outline","fxFlex","20","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",1,""],["placeholder","Seleccione...","formControlName","estadio_id"],[3,"campo","name"],["color","primary","formControlName","anatomia","fxFlex","20",1,"checkbox"],["appearance","outline","fxFlex","20","fxFlex.lt-md","100",1,""],["formControlName","anatomia_date","matInput","","placeholder","Fecha","autocomplete","off",3,"matDatepicker","dateChange","click"],["matSuffix","",3,"for"],["picker",""],["color","primary","formControlName","biopsia","fxFlex","20",1,"checkbox"],["color","primary","formControlName","reseccion_q","fxFlex","20",1,"checkbox"],["color","primary","formControlName","con_cancer","fxFlex","20",1,"checkbox"],["appearance","outline","fxFlex","40","fxFlex.lt-md","100",1,""],["formControlName","operacion","matInput","","type","text","placeholder","Tipo Operaci\xf3n"],["appearance","outline","fxFlex","15","fxFlex.lt-md","100",1,""],["formControlName","necrosis_tumoral_cant","matInput","","type","text","placeholder","Porcentaje necrosis tumoral"],["matPrefix",""],[1,""],["formControlName","linfocito_intra_tumoral","matInput","","type","text","placeholder","Linfocito Intra Tumoral"],["fxFlex","100","fxLayout","row wrap","fxLayoutGap","2rem","fxLayoutAlign","start center",1,"content-column-checkbox"],["appearance","outline","fxFlex","10","fxFlex.lt-md","100",1,""],["formControlName","isquemia_min","matInput","","type","text","placeholder","Minutos"],["appearance","outline","fxFlex","80","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",1,""],["matInput",""],["appearance","outline","fxFlex","calc(16% + 6px)","fxFlex.lt-md","100",1,""],["placeholder","Seleccione...","formControlName","tumor_lineage_id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fxFlex","16","fxFlex.lt-md","100","fxLayoutGap","3px"],["appearance","outline","fxFlex","33.3",1,""],["placeholder","T...","formControlName","tnm_t"],["placeholder","N...","formControlName","tnm_n"],["placeholder","M...","formControlName","tnm_m"]],template:function(e,r){1&e&&t.YNc(0,ie,70,26,"form",0),2&e&&t.Q6J("ngIf",r.form)},directives:[E.O5,C._Y,C.JL,I.yH,I.SQ,I.xw,I.Wh,C.sg,k.KE,k.hX,$.gD,C.JJ,C.u,E.sg,z.ey,k.TO,x.g,Xt.F,I.UT,p.oG,C.Fj,F.Nt,P.hl,P.nW,k.R9,P.Mq,k.qo,te.Hw],pipes:[E.Ov],styles:["h3[_ngcontent-%COMP%]{font-weight:500}.content-column-checkbox[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding:10px 10px 27px}.content-groups[_ngcontent-%COMP%]{width:100%}.bg-row[_ngcontent-%COMP%]{background-color:#e1f5fe}.chip-antecedentes[_ngcontent-%COMP%]{min-height:20px!important;font-weight:400;font-size:12px}"],changeDetection:0}),n})();var mt=m(7092),Tt=m(520),qt=m(591),Vt=m(2340),re=m(7261);let le=(()=>{class n{constructor(e,r){this.http=e,this.snackBar=r,this.availablesPositionsSubject$=new qt.X(null),this.resultSubject$=new qt.X(null),this.totalLocationlPositions=[]}get availablesPositions$(){return this.availablesPositionsSubject$}setAvailables(e){this.availablesPositionsSubject$.next(e)}get resultItems$(){return this.resultSubject$}setItems(e){this.resultSubject$.next(e)}getLocations(e=1,r=1e3,l="",h="desc"){return this.http.get(`${Vt.N.API}locations_samples`,{params:(new Tt.LE).set("page",e.toString()).set("filter",l).set("sort",h).set("per_page",r.toString())}).pipe((0,et.U)(Z=>Z))}getStorageSamples(e,r=1,l=1e3,h="",Z="desc"){return this.http.get(`${Vt.N.API}storage_samples`,{params:(new Tt.LE).set("page",r.toString()).set("filter",h).set("patient_id",e).set("sort",Z).set("per_page",l.toString())}).pipe((0,et.U)(J=>(console.log(J),this.setItems(J),J)))}getAvailablePositions(e){return this.http.get(`${Vt.N.API}not_available_positions`,{params:(new Tt.LE).set("code",e)}).pipe((0,et.U)(r=>{const l=r.map(Z=>Z.code),h=this.totalLocationlPositions.filter(Z=>{if(Z.startsWith(e)&&!l.includes(Z))return!0});return this.setAvailables(h),l}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Tt.eN),t.LFG(re.ux))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ut=m(6087),se=m(3160);const ce=function(){return[20,50,100]};let Ne=(()=>{class n{constructor(e,r){this.dialog=e,this.storageSampleService=r,this.columns=[{title:"Fecha",col:"created_at",pipe:"dd/MM/yyyy",class:"w-10-100"},{title:"C\xf3digo",col:"sample_code",class:"w-15-100"},{title:"Paciente",col:"patient",class:"w-30-100"},{title:"Ubicaci\xf3n",col:"location",class:"w-30-100"},{title:"Rack",col:"rack",class:"w-5-100"},{title:"Caja",col:"box",class:"w-5-100"},{title:"Posici\xf3n",col:"position",class:"w-5-100"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.storageSampleService.resultItems$}ngOnInit(){var e,r;this.patient=null===(e=this.sampleOnEdit)||void 0===e?void 0:e.patient,this.getStorageSamples(null===(r=this.patient)||void 0===r?void 0:r.id,this.pageDefault,this.perPage,this.filter,this.orden)}paginatorChange(e){var r;this.getStorageSamples(null===(r=this.patient)||void 0===r?void 0:r.id,e.pageIndex+1,e.pageSize)}getStorageSamples(e,r,l,h,Z){this.subscroption=this.storageSampleService.getStorageSamples(e,r,l,h,Z).subscribe(J=>this.loadData())}loadData(){this.dataSource=this.result.pipe((0,et.U)(e=>e.data.data.filter(l=>l.sample_id!==this.sampleOnEdit.id).map(l=>{var h,Z,J;return{id:l.id,sample_id:l.sample_id,location_id:l.location_id,location:`${null===(h=l.location)||void 0===h?void 0:h.code} - ${null===(Z=l.location)||void 0===Z?void 0:Z.description}`,patient:`${this.patient.code} - ${this.patient.name} ${this.patient.last_name}`,sample_code:null===(J=l.sample)||void 0===J?void 0:J.code,rack:l.rack,box:l.box,position:l.position,created_at:l.created_at}}))),this.totalResut=this.result.pipe((0,et.U)(e=>e.data.total))}itemAction(e){}ngOnDestroy(){this.subscroption.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.uw),t.Y36(le))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-related-samples"]],viewQuery:function(e,r){if(1&e&&t.Gf(ut.NW,7),2&e){let l;t.iGM(l=t.CRH())&&(r.paginator=l.first)}},inputs:{sampleOnEdit:"sampleOnEdit"},decls:6,vars:13,consts:[[1,"header-table"],[1,"actions"],[3,"columns","dataSource","btnDelete","actions","widthActions","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA(),t.TgZ(2,"mvd-data-table",2),t.NdJ("actionChange",function(h){return r.itemAction(h)}),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"mat-paginator",3),t.NdJ("page",function(h){return r.paginatorChange(h)}),t.ALo(5,"async"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("columns",r.columns)("dataSource",t.lcZ(3,8,r.dataSource))("btnDelete",!1)("actions",!1)("widthActions","w-5-100"),t.xp6(2),t.Q6J("length",t.lcZ(5,10,r.totalResut))("pageSize",r.perPage)("pageSizeOptions",t.DdM(12,ce)))},directives:[se.Q,ut.NW],pipes:[E.Ov],styles:[""]}),n})();function me(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).edit=!0}),t._uU(1,"Cambiar"),t.qZA()}}const ue=function(){return["sample.create","sample.update"]};function de(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",4)(2,"h2"),t._uU(3," Muestra Almacenada "),t.qZA(),t.TgZ(4,"p")(5,"strong"),t._uU(6,"Ubicaci\xf3n:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"p")(9,"strong"),t._uU(10,"Rack:"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"p")(13,"strong"),t._uU(14,"Caja:"),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"p")(17,"strong"),t._uU(18,"Posici\xf3n:"),t.qZA(),t._uU(19),t.qZA(),t.YNc(20,me,2,0,"button",5),t.qZA(),t.BQk()),2&n){const e=s.ngIf;t.xp6(7),t.AsE(" ",e.location.code," - ",e.location.description,""),t.xp6(4),t.hij(" ",e.rack,""),t.xp6(4),t.hij(" ",e.box,""),t.xp6(4),t.hij(" ",e.position,""),t.xp6(1),t.Q6J("mvdPermissions",t.DdM(6,ue))}}function Fe(n,s){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.code," - ",e.description," ")}}function pe(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Fe,2,3,"mat-option",19),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.locations)}}function Ue(n,s){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function _e(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Ue,2,2,"mat-option",19),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.racks)}}function Pe(n,s){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function fe(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Pe,2,2,"mat-option",19),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.boxes)}}function qe(n,s){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ge(n,s){if(1&n&&(t.ynx(0),t.YNc(1,qe,2,2,"mat-option",19),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.positions)}}function Ve(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).edit=!1}),t._uU(1,"Cerrar"),t.qZA()}}function he(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"form",9)(3,"mat-form-field",10)(4,"mat-label"),t._uU(5,"Ubicaci\xf3n"),t.qZA(),t.TgZ(6,"mat-select",11),t.YNc(7,pe,2,1,"ng-container",12),t.qZA(),t.TgZ(8,"mat-error"),t._UZ(9,"mvd-errors-messages",13),t.qZA()(),t.TgZ(10,"mat-form-field",14)(11,"mat-label"),t._uU(12,"Rack"),t.qZA(),t.TgZ(13,"mat-select",15),t.NdJ("selectionChange",function(l){return t.CHM(e),t.oxw().racksChanges(l)}),t.YNc(14,_e,2,1,"ng-container",12),t.qZA(),t.TgZ(15,"mat-error"),t._UZ(16,"mvd-errors-messages",13),t.qZA()(),t.TgZ(17,"mat-form-field",14)(18,"mat-label"),t._uU(19,"Caja"),t.qZA(),t.TgZ(20,"mat-select",16),t.NdJ("selectionChange",function(l){return t.CHM(e),t.oxw().boxesChanges(l)}),t.YNc(21,fe,2,1,"ng-container",12),t.qZA(),t.TgZ(22,"mat-error"),t._UZ(23,"mvd-errors-messages",13),t.qZA()(),t.TgZ(24,"mat-form-field",14)(25,"mat-label"),t._uU(26,"Posici\xf3n"),t.qZA(),t.TgZ(27,"mat-select",17),t.NdJ("selectionChange",function(l){return t.CHM(e),t.oxw().positionChange(l)}),t.YNc(28,ge,2,1,"ng-container",12),t.qZA(),t.TgZ(29,"mat-error"),t._UZ(30,"mvd-errors-messages",13),t.qZA()()()(),t.TgZ(31,"div",8),t.YNc(32,Ve,2,0,"button",18),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngIf",e.locations),t.xp6(2),t.Q6J("campo",e.form.get("location_id").errors)("name","Ubicaci\xf3n"),t.xp6(5),t.Q6J("ngIf",e.racks.length>=1),t.xp6(2),t.Q6J("campo",e.form.get("rack").errors)("name","Rack"),t.xp6(5),t.Q6J("ngIf",e.boxes.length>=1),t.xp6(2),t.Q6J("campo",e.form.get("box").errors)("name","Caja"),t.xp6(5),t.Q6J("ngIf",e.positions.length>=1),t.xp6(2),t.Q6J("campo",e.form.get("position").errors)("name","Posici\xf3n"),t.xp6(2),t.Q6J("mvdPermissions",t.DdM(14,ue))}}function Le(n,s){if(1&n&&(t.TgZ(0,"div",22)(1,"h2"),t._uU(2,"Muestras relacionadas"),t.qZA(),t._UZ(3,"mvd-related-samples",23),t.qZA()),2&n){const e=s.ngIf;t.xp6(3),t.Q6J("sampleOnEdit",e)}}let ve=(()=>{class n{constructor(e,r,l){this.fb=e,this.storageSampleService=r,this.samplesServices=l,this.subscriptions=[],this.racks=[],this.boxes=[],this.positions=[],this.locationSelected="",this.rackSelected="",this.boxSelected="",this.positionSelected="",this.edit=!1,this.createForm(),this.availables$=this.storageSampleService.availablesPositions$,this.sampleOnEdit=this.samplesServices.sampleOnEdit}ngOnInit(){this.getLocations(),this.subscriptions.push(this.samplesServices.sampleOnEdit.subscribe(e=>{this.patient=e.patient,e.position&&e.position.split(/[L,R,B,P]/)}))}createForm(){this.form=this.fb.group({location_id:[null,[C.kI.required,mt.dN.number]],rack:[{value:null,disabled:!0},mt.dN.number],box:[{value:null,disabled:!0},mt.dN.number],position:[{value:null,disabled:!0},mt.dN.number]}),this.form&&this.locationsChanges()}reLocation(){this.edit=!0}getLocations(){this.subscriptions.push(this.storageSampleService.getLocations().subscribe(e=>this.locations=e.data.data))}locationsChanges(){this.form.get("location_id").valueChanges.subscribe(e=>{this.storageSampleService.totalLocationlPositions=this.locations.filter(r=>r.id===e).map(r=>{let l=Array(r.racks),h=Array(r.boxes),Z=Array(r.positions),J=[];for(let H=1;H<=l.length;H++)for(let ot=1;ot<=h.length;ot++)for(let nt=1;nt<=Z.length;nt++)J.push(`L${r.id}R${H}B${ot}P${nt}`);return J})[0],this.locationSelected=`L${e}`,this.codeSearch=`${this.locationSelected}`,this.subscriptions.push(this.storageSampleService.getAvailablePositions(this.codeSearch).subscribe(r=>{this.racks=[],this.boxes=[],this.positions=[],this.form.get("rack").disable(),this.form.get("rack").setValue(null),this.form.get("box").disable(),this.form.get("box").setValue(null),this.form.get("position").disable(),this.form.get("position").setValue(null),this.setRacks()}))})}racksChanges(e){this.boxes=[],this.positions=[],this.form.get("box").disable(),this.form.get("box").setValue(null),this.form.get("position").disable(),this.form.get("position").setValue(null),this.rackSelected=`R${e.value}`,this.codeSearch=`${this.locationSelected}${this.rackSelected}`,this.subscriptions.push(this.storageSampleService.getAvailablePositions(this.codeSearch).subscribe(r=>{this.setBoxes()}))}boxesChanges(e){this.positions=[],this.form.get("position").disable(),this.form.get("position").setValue(null),this.boxSelected=`B${e.value}`,this.codeSearch=`${this.locationSelected}${this.rackSelected}${this.boxSelected}`,this.subscriptions.push(this.storageSampleService.getAvailablePositions(this.codeSearch).subscribe(r=>{this.setPositions()}))}positionChange(e){this.positionSelected=`P${e.value}`,this.codeSearch=`${this.locationSelected}${this.rackSelected}${this.boxSelected}${this.positionSelected}`,this.samplesServices.updateSample({position:this.codeSearch}).subscribe(l=>{l&&this.subscriptions.push(this.storageSampleService.getStorageSamples(this.patient.id,1,10).subscribe())})}setRacks(){this.availables$.pipe((0,R.q)(1)).subscribe(e=>{this.racks=this.codeToStorage(e,"racks"),0===this.racks.length?this.form.get("rack").disable():this.form.get("rack").enable()})}setBoxes(){this.availables$.pipe((0,R.q)(1)).subscribe(e=>{this.boxes=this.codeToStorage(e,"boxes"),0===this.boxes.length?this.form.get("box").disable():this.form.get("box").enable()})}setPositions(){this.availables$.pipe((0,R.q)(1)).subscribe(e=>{this.positions=this.codeToStorage(e,"positions"),0===this.positions.length?this.form.get("position").disable():this.form.get("position").enable()})}codeToStorage(e,r){let l;switch(r){case"racks":l=1;break;case"boxes":l=2;break;case"positions":l=3;break;default:l=0}return[...e.reduce((Z,J)=>{const H=J.split(/[R,B,P]/);return Z[r]=new Set([...Z[r],+H[l]]),Z},{racks:[],boxes:[],positions:[]})[r]]}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.qu),t.Y36(le),t.Y36(U.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-sample-storage"]],decls:7,vars:7,consts:[[1,"content-group-form"],[4,"ngIf","ngIfElse"],["add",""],["class","table content-group-form",4,"ngIf"],["fxFlex","100","fxLayaut","row wrap","fxLayoutGap","5px"],["class","btn-submit","mat-flat-button","","color","primary",3,"click",4,"mvdPermissions"],["mat-flat-button","","color","primary",1,"btn-submit",3,"click"],["fxFlex","100","fxLayout","column"],["fxFlex","100","fxLayout","row"],["fxFlex","100","fxLayout","row wrap","fxLayoutGap","5px",3,"formGroup"],["appearance","outline","fxFlex","20","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",1,""],["placeholder","Seleccione...","formControlName","location_id"],[4,"ngIf"],[3,"campo","name"],["appearance","outline","fxFlex","10","fxFlex.lt-md","100","fxFlexOffset.lt-md","0",1,""],["placeholder","Seleccione...","formControlName","rack",3,"selectionChange"],["placeholder","Seleccione...","formControlName","box",3,"selectionChange"],["placeholder","Seleccione...","formControlName","position",3,"selectionChange"],["class","btn-submit","color","primary","mat-stroked-button","",3,"click",4,"mvdPermissions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","primary","mat-stroked-button","",1,"btn-submit",3,"click"],[1,"table","content-group-form"],[3,"sampleOnEdit"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,de,21,7,"ng-container",1),t.ALo(2,"async"),t.YNc(3,he,33,15,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(5,Le,4,1,"div",3),t.ALo(6,"async")),2&e){const l=t.MAs(4);t.xp6(1),t.Q6J("ngIf",!r.edit&&t.lcZ(2,3,r.sampleOnEdit).storage_sample)("ngIfElse",l),t.xp6(4),t.Q6J("ngIf",t.lcZ(6,5,r.sampleOnEdit))}},directives:[E.O5,I.yH,I.SQ,D.$,B.lW,I.xw,C._Y,C.JL,C.sg,k.KE,I.UT,k.hX,$.gD,C.JJ,C.u,E.sg,z.ey,k.TO,x.g,Ne],pipes:[E.Ov],styles:[".content-group-form[_ngcontent-%COMP%]{width:100%!important;position:relative!important}.table[_ngcontent-%COMP%]{margin-top:2rem!important;padding:1rem!important}.form[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{width:100%!important;display:block!important}"]}),n})();var Je=m(303),Xe=m(7918),ta=m(6621),a=m(384),i=m(953);const o=function(){return[20,50,100]};let c=(()=>{class n{constructor(e,r,l,h,Z){this.traceSampleService=e,this.dialog=r,this.stagesServices=l,this.usersServices=h,this.authService=Z,this.columns=[{title:"Fecha",col:"created_at",pipe:"dd/MM/yyyy H:mm:ss",class:"w-15-100"},{title:"T\xe9cnico/Profesional",col:"user_name",class:"w-15-100"},{title:"Evento/Etapa",col:"stage_name",class:"w-20-100"},{title:"Observaciones",col:"obs",class:"w-30-100",type:"longText"},{title:"Vencimiento",col:"date_limit",pipe:"dd/MM/yyyy",class:"w-10-100"},{title:"Fin",col:"end",type:"boolean",class:"w-5-100"}],this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.result=this.traceSampleService.resultItems$}ngOnInit(){var e;this.getTraces(null===(e=this.sample)||void 0===e?void 0:e.id,this.pageDefault,this.perPage,this.filter,this.orden),this.getStages(),this.getUsers(),console.log(this.sample)}paginatorChange(e){var r;this.getTraces(null===(r=this.sample)||void 0===r?void 0:r.id,e.pageIndex+1,e.pageSize)}getTraces(e,r,l,h,Z){this.subscroption=this.traceSampleService.getTraces(r,l,h,Z,e).subscribe(J=>this.loadData())}getStages(){this.stagesServices.getStages(1,1e3).pipe((0,et.U)(e=>e.data.data.map(l=>({name:l.name,value:l.id})))).subscribe(e=>this.stagesOptions=e),console.log(this.stagesOptions)}getUsers(){this.usersServices.getUsers(1,1e3).pipe((0,et.U)(e=>(this.users=e.data.data,e.data.data.map(l=>({name:`${l.name} ${l.last_name}`,value:l.id}))))).subscribe(e=>this.userOptions=e)}loadData(){this.dataSource=this.result.pipe((0,et.U)(e=>e.data.data.map(l=>{var h,Z;return{id:l.id,patient_id:l.patient_id,stage_id:l.stage_id,stage_name:null===(h=l.stage)||void 0===h?void 0:h.name,end:null===(Z=l.stage)||void 0===Z?void 0:Z.end,user_name:l.user_name,user_id:l.user_id,obs:l.obs,date_limit:l.date_limit,created_at:l.created_at}}))),this.totalResut=this.result.pipe((0,et.U)(e=>e.data.total))}search(e){var r;this.getTraces(null===(r=this.sample)||void 0===r?void 0:r.id,this.pageDefault,this.perPage,e,this.orden)}itemAction(e){"edit"===e.action&&this.openDialog("Edita Traza",e.element)}openDialog(e="Agrega Traza",r){console.log(this.sample),this.user=this.authService.currentUser.value;const l={title:e,data:this.setFields(r)};return this.dialog.open(Je.Q,{width:"500px",data:l}).afterClosed().subscribe(Z=>{Z&&(Z.id?this.updateTrace(Z):this.storeTraceSample(Z))})}updateTrace(e){const r=this.users.filter(l=>l.id===e.user_id)[0];e.user_name=r?`${r.name} ${r.last_name}`:e.user_name,this.traceSampleService.updateTrace(e).pipe((0,R.q)(1)).subscribe(l=>{var h;this.getTraces(null===(h=this.sample)||void 0===h?void 0:h.id,this.pageDefault,this.perPage,this.filter,this.orden)})}storeTraceSample(e){const r=this.users.filter(l=>l.id===e.user_id)[0];e.user_name=r?`${r.name} ${r.last_name}`:e.user_name,this.traceSampleService.storeTraceSample(e).pipe((0,R.q)(1)).subscribe(l=>{var h;this.getTraces(null===(h=this.sample)||void 0===h?void 0:h.id,this.pageDefault,this.perPage,this.filter,this.orden)})}setFields(e){var r,l;return[{nameControl:"id",type:"hidden",value:null==e?void 0:e.id,label:"Id"},{nameControl:"sample_id",type:"hidden",value:(null==e?void 0:e.sample_id)||(null===(r=this.sample)||void 0===r?void 0:r.id),label:"Id"},{nameControl:"user_name",type:"hidden",value:null==e?void 0:e.user_name,label:"T\xe9cnico/Profesional",class:"mvd-col1--1"},{nameControl:"user_id",type:"select",value:(null==e?void 0:e.user_id)||(null===(l=this.user)||void 0===l?void 0:l.id),options:this.userOptions,label:"T\xe9cnico/Profesional",class:"mvd-col1--1"},{nameControl:"stage_id",type:"select",value:null==e?void 0:e.stage_id,options:this.stagesOptions,label:"Etapa",class:"mvd-col1--1"},{nameControl:"date_limit",type:"date",value:null==e?void 0:e.date_limit,label:"Fecha l\xedmite"},{nameControl:"obs",type:"textarea",value:null==e?void 0:e.obs,label:"Comentarios / Observaciones",class:"mvd-col1--1"}]}ngOnDestroy(){this.subscroption.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.B),t.Y36(d.uw),t.Y36(Xe.S),t.Y36(ta.f),t.Y36(a.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-traces"]],viewQuery:function(e,r){if(1&e&&t.Gf(ut.NW,7),2&e){let l;t.iGM(l=t.CRH())&&(r.paginator=l.first)}},inputs:{sample:"sample"},decls:12,vars:13,consts:[[1,"header-table"],["fxLayout","row","fxFlex","50",3,"noteFilterBy","changeSearch"],[1,"actions"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"],[3,"columns","dataSource","btnDelete","widthActions","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"mvd-input-search",1),t.NdJ("changeSearch",function(h){return r.search(h)}),t.qZA(),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return r.openDialog()}),t.TgZ(4,"mat-icon",4),t._uU(5,"add"),t.qZA(),t.TgZ(6,"span"),t._uU(7,"Crear"),t.qZA()()()(),t.TgZ(8,"mvd-data-table",5),t.NdJ("actionChange",function(h){return r.itemAction(h)}),t.ALo(9,"async"),t.qZA(),t.TgZ(10,"mat-paginator",6),t.NdJ("page",function(h){return r.paginatorChange(h)}),t.ALo(11,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("noteFilterBy","Filtra fecha, usuario, etapa, observaciones, etc."),t.xp6(7),t.Q6J("columns",r.columns)("dataSource",t.lcZ(9,8,r.dataSource))("btnDelete",!1)("widthActions","w-5-100"),t.xp6(2),t.Q6J("length",t.lcZ(11,10,r.totalResut))("pageSize",r.perPage)("pageSizeOptions",t.DdM(12,o)))},directives:[i.V,I.xw,I.yH,B.lW,te.Hw,se.Q,ut.NW],pipes:[E.Ov],styles:[""]}),n})();var v=m(959);const _=function(n){return["/pacientes/paciente",n]};function S(n,s){if(1&n&&(t.TgZ(0,"mat-card-subtitle")(1,"h3"),t._uU(2),t.TgZ(3,"a",9),t._uU(4),t.qZA()(),t.TgZ(5,"p"),t._uU(6,"Estado actual: "),t.TgZ(7,"span",10),t._uU(8),t.ALo(9,"async"),t.qZA()()()),2&n){const e=s.ngIf,r=t.oxw();t.xp6(2),t.hij("Muestra: ",e.code," / "),t.xp6(1),t.Q6J("routerLink",t.VKq(8,_,e.patient.id)),t.xp6(1),t.lnq("Paciente: ",e.patient.code," (",e.patient.name," ",e.patient.last_name,")"),t.xp6(4),t.Oqu(t.lcZ(9,6,r.status_sample))}}function q(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(1,"Guardar"),t.qZA()}}function at(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mvd-identification-sample",12),t.NdJ("sampleIdentification",function(l){return t.CHM(e),t.oxw().identificationDataEvent(l)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("patient_id",e.patient_id)}}function N(n,s){1&n&&t._UZ(0,"mvd-sample-storage")}function K(n,s){if(1&n&&t.YNc(0,N,1,0,"mvd-sample-storage",1),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.sampleEdit)}}function lt(n,s){if(1&n&&t._UZ(0,"mvd-traces",23),2&n){const e=t.oxw(3);t.Q6J("sample",e.sampleEdit)}}function Y(n,s){if(1&n&&t.YNc(0,lt,1,1,"mvd-traces",22),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.sampleEdit)}}function st(n,s){1&n&&t._UZ(0,"mvd-results")}function Lt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab-group",13)(1,"mat-tab",14)(2,"mvd-sample-data",15),t.NdJ("sampleData",function(l){return t.CHM(e),t.oxw().sampleDataEvent(l)}),t.qZA()(),t.TgZ(3,"mat-tab",16)(4,"mvd-anatomopathological",17),t.NdJ("anatomopatologicalData",function(l){return t.CHM(e),t.oxw().anatomopathologicalDataEvent(l)}),t.qZA()(),t.TgZ(5,"mat-tab",18),t.YNc(6,K,1,1,"ng-template",19),t.qZA(),t.TgZ(7,"mat-tab",20),t.YNc(8,Y,1,1,"ng-template",19),t.qZA(),t.TgZ(9,"mat-tab",21),t.YNc(10,st,1,0,"ng-template",19),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("disabled",!e.sampleEdit),t.xp6(2),t.Q6J("disabled",!e.sampleEdit),t.xp6(2),t.Q6J("disabled",!e.sampleEdit)}}function Re(n,s){1&n&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"div")(3,"div")(4,"div"),t.qZA()())}const aa=function(){return["sample.create","sample.update"]};let ea=(()=>{class n{constructor(e,r,l,h,Z){this.sampleService=e,this.activatedRoute=r,this.router=l,this.dialog=h,this.traceSampleService=Z,this.changes=!1,this.countChanges=0,this.subscriptions=[]}ngOnInit(){this.status_sample=this.traceSampleService.currentStatusSample$,this.subscriptions.push(this.sampleService.sampleOnEdit.subscribe(e=>{this.sampleEdit=e})),this.activatedRoute.paramMap.subscribe(e=>{e.params.id&&this.sampleService.getSample(e.params.id).pipe((0,R.q)(1)).subscribe(),e.params.id||(this.sampleEdit=null)}),this.activatedRoute.queryParamMap.subscribe(e=>{var r,l;this.urlReturn=null===(r=null==e?void 0:e.params)||void 0===r?void 0:r.urlReturn,this.patient_id=null===(l=null==e?void 0:e.params)||void 0===l?void 0:l.patient_id})}back(){this.countChanges>=7?this.confirmBack():this.router.navigate([this.urlReturn])}confirmBack(){return this.dialog.open(g.c,{width:"250px",data:{}}).afterClosed().subscribe(r=>{r&&r.value&&this.router.navigate([this.urlReturn])})}onSubmit(){var e;if(null===(e=this.identificationData)||void 0===e?void 0:e.value){let r=Object.assign({},this.identificationData.value);if(this.sampleData&&(r.sample_data=this.sampleData.value),this.anatomopathologicalData){const l=this.anatomopathologicalData.value;r.sample_data_anatomo=l,r.tumor_lineage_id=l.tumor_lineage_id,r.tnm_id=l.tnm_id,r.topography_id=l.topography_id}this.sampleEdit?this.identificationData.valid?this.sampleService.updateSample(r).subscribe(l=>{this.countChanges=0,this.subscriptions.push()}):this.identificationData.markAllAsTouched():this.identificationData.valid?this.sampleService.storeSample(r).subscribe(l=>{this.countChanges=0}):this.identificationData.markAllAsTouched()}}sampleDataEvent(e){this.sampleData=e,this.countChanges++}identificationDataEvent(e){this.identificationData=e,this.countChanges++}anatomopathologicalDataEvent(e){this.anatomopathologicalData=e,this.countChanges++}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe()),this.sampleService.setSampleOnEdit(null)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.e),t.Y36(T.gz),t.Y36(T.F0),t.Y36(d.uw),t.Y36(j.B))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-sample"]],decls:15,vars:6,consts:[[1,"card","mat-elevation-z2","animate__animated","animate__slideInRight"],[4,"ngIf"],["fxLayoutAlign","end center"],["mat-stroked-button","","color","primary",1,"btn-submit",3,"click"],["class","btn-submit","mat-flat-button","","color","primary",3,"click",4,"mvdPermissions"],[3,"patient_id","sampleIdentification",4,"ngIf","ngIfElse"],["class","tabs-content",4,"ngIf"],["loading",""],[1,"border"],[3,"routerLink"],[1,"negrita"],["mat-flat-button","","color","primary",1,"btn-submit",3,"click"],[3,"patient_id","sampleIdentification"],[1,"tabs-content"],["label","Datos Oncol\xf3gicos"],[3,"sampleData"],["label","Datos Anatomopatol\xf3gicos"],[3,"anatomopatologicalData"],["label","Almacenamiento",3,"disabled"],["matTabContent",""],["label","Trazabilidad",3,"disabled"],["label","Resultados",3,"disabled"],[3,"sample",4,"ngIf"],[3,"sample"],[1,"div-content"],[1,"loading"]],template:function(e,r){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Ficha Muestra"),t.qZA(),t.YNc(4,S,10,10,"mat-card-subtitle",1),t.TgZ(5,"div",2)(6,"button",3),t.NdJ("click",function(){return r.back()}),t._uU(7,"Volver"),t.qZA(),t.YNc(8,q,2,0,"button",4),t.qZA()(),t.TgZ(9,"mat-card-content"),t.YNc(10,at,1,1,"mvd-identification-sample",5),t.YNc(11,Lt,11,3,"mat-tab-group",6),t.YNc(12,Re,5,0,"ng-template",null,7,t.W1O),t.qZA(),t._UZ(14,"span",8),t.qZA()),2&e){const l=t.MAs(13);t.xp6(4),t.Q6J("ngIf",r.sampleEdit),t.xp6(4),t.Q6J("mvdPermissions",t.DdM(5,aa)),t.xp6(2),t.Q6J("ngIf",r.patient_id||(null==r.sampleEdit?null:r.sampleEdit.patient_id))("ngIfElse",l),t.xp6(1),t.Q6J("ngIf",r.patient_id||(null==r.sampleEdit?null:r.sampleEdit.patient_id))}},directives:[V.a8,V.dk,V.n5,E.O5,V.$j,T.yS,I.Wh,B.lW,D.$,V.dn,f,A.SP,A.uX,Se,Me,A.Vc,ve,c,v.b],pipes:[E.Ov],styles:[".tabs-content[_ngcontent-%COMP%]{margin-top:3rem}.mat-card-actions[_ngcontent-%COMP%]{padding-right:1.5rem}.btn-submit[_ngcontent-%COMP%]{width:100px;line-height:2.2;margin:1rem}.mat-card-subtitle[_ngcontent-%COMP%]{padding-left:1rem!important}"]}),n})();var oa=m(5023);const na=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["mvd-samples"]],decls:8,vars:0,consts:[[1,"card","mat-elevation-z16","animate__animated","animate__slideInRight"],[1,"border"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Muestras"),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Administrar Muestras"),t.qZA()(),t._UZ(6,"mvd-samples-table")(7,"span",1),t.qZA())},directives:[V.a8,V.dk,V.n5,V.$j,oa.V],styles:[""]}),n})()},{path:"muestra",component:ea},{path:"muestra/:id",component:ea}];let ia=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[T.Bz.forChild(na)],T.Bz]}),n})();var ra=m(8203);let la=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[E.ez,ia,ra.m]]}),n})()},7918:(ct,G,m)=>{m.d(G,{S:()=>B});var E=m(520),T=m(591),R=m(1086),g=m(1406),t=m(4850),U=m(2986),d=m(2340),j=m(5e3),V=m(7261),I=m(189);let B=(()=>{class D{constructor(M,Q,L){this.http=M,this.snackBar=Q,this.ubicationService=L,this.dataOptionsForms$=new T.X(null),this.stageEditSubject$=new T.X(null),this.urlUtils="src/app/shared/utils/data/",this.resultSubject$=new T.X(null)}get optionsForms$(){return this.dataOptionsForms$}get resultItems$(){return this.resultSubject$}setItems(M){this.resultSubject$.next(M)}get stageOnEdit(){return this.stageEditSubject$}setStageOnEdit(M){this.stageEditSubject$.next(M)}loadData(){(0,R.of)(this.ubicationService.getStates(),this.ubicationService.getCities(),this.ubicationService.getCountries()).pipe((0,g.b)(L=>L)).subscribe(L=>console.log(L))}storeStage(M){return this.http.post(`${d.N.API}stages`,M).pipe((0,t.U)(Q=>(this.getStages(1,20,"","desc").pipe((0,U.q)(1)).subscribe(),this.openSnackBar("Se cre\xf3 correctamente","success-snack-bar"),Q.data)))}updateStage(M){return M._method="put",this.http.post(`${d.N.API}stages/${M.id}`,M).pipe((0,t.U)(Q=>(this.getStages(1,20,"","desc").pipe((0,U.q)(1)).subscribe(),this.openSnackBar("Actualizado correctamente","success-snack-bar"),Q.data)))}deleteStage(M){return this.http.delete(`${d.N.API}stages/${M}`).pipe((0,t.U)(Q=>(this.getStages(1,20,"","desc").pipe((0,U.q)(1)).subscribe(),this.openSnackBar("Eliminado correctamente","success-snack-bar"),Q.data)))}getStage(M){return this.http.get(`${d.N.API}stages/${M}`).pipe((0,t.U)(Q=>(this.setStageOnEdit(Q.data),Q.data)))}getStages(M=1,Q=20,L="",it="desc"){return this.http.get(`${d.N.API}stages`,{params:(new E.LE).set("page",M.toString()).set("filter",L).set("sort",it).set("per_page",Q.toString())}).pipe((0,t.U)(k=>(this.setStageOnEdit(null),this.setItems(k),k)))}openSnackBar(M,Q,L=""){this.snackBar.open(M,L,{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:Q})}}return D.\u0275fac=function(M){return new(M||D)(j.LFG(E.eN),j.LFG(V.ux),j.LFG(I._))},D.\u0275prov=j.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},7e3:(ct,G,m)=>{m.d(G,{e:()=>T});var E=m(4850);class T{constructor(){}static validateNumDoc(g){return t=>g.checkExist("n_doc",t.value).pipe((0,E.U)(d=>null===d.exist?null:{validateNumDoc:d.exist}))}static validateCode(g){return t=>g.checkExist("code",t.value).pipe((0,E.U)(d=>null===d.exist?null:{validateCode:d.exist}))}static validateEmailExist(g){return t=>g.checkEmailExist(t.value).pipe((0,E.U)(d=>null===d.exist?null:{validateEmailExist:d.exist}))}static validateRoleExist(g){return t=>g.checkRoleExist(t.value).pipe((0,E.U)(d=>null===d.exist?null:{validateRoleExist:d.exist}))}}},6359:(ct,G,m)=>{m.d(G,{c:()=>j});var E=m(8966),T=m(5e3),R=m(9808),g=m(9224),t=m(7423),U=m(5245);function d(V,I){if(1&V){const B=T.EpF();T.TgZ(0,"mat-card",1)(1,"button",2),T.NdJ("click",function(){return T.CHM(B),T.oxw().onNoClick()}),T.TgZ(2,"mat-icon"),T._uU(3,"close"),T.qZA()(),T.TgZ(4,"h1"),T._uU(5,"Atenci\xf3n!!"),T.qZA(),T.TgZ(6,"div")(7,"p"),T._uU(8,"No a guardado los cambios, si continua se perderan."),T.qZA()(),T.TgZ(9,"mat-card-actions",3)(10,"button",4),T.NdJ("click",function(){return T.CHM(B),T.oxw().onNoClick()}),T._uU(11,"Cancelar"),T.qZA(),T.TgZ(12,"button",5),T.NdJ("click",function(){return T.CHM(B),T.oxw().confirm()}),T._uU(13,"Continuar"),T.qZA()()()}}let j=(()=>{class V{constructor(B,D){this.dialogRef=B,this.data=D}confirm(){this.data.value=!0,this.dialogRef.close(this.data)}onNoClick(){this.dialogRef.close()}}return V.\u0275fac=function(B){return new(B||V)(T.Y36(E.so),T.Y36(E.WI))},V.\u0275cmp=T.Xpm({type:V,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],["mat-button","",1,"btn-close-modal",3,"click"],["align","end"],["mat-flat-button","",1,"btn-secondary",3,"click"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(B,D){1&B&&T.YNc(0,d,14,0,"mat-card",0),2&B&&T.Q6J("ngIf",D.data)},directives:[R.O5,g.a8,t.lW,U.Hw,g.hq],styles:[".card[_ngcontent-%COMP%]{box-shadow:none!important;margin:0!important;padding-left:16px!important}.mat-card-actions[_ngcontent-%COMP%]{display:flex!important;justify-content:space-around!important}"]}),V})()},959:(ct,G,m)=>{m.d(G,{b:()=>u});var E=m(6087),T=m(2654),R=m(3426),g=m(4850),t=m(2986),U=m(9002),d=m(5e3),j=m(8966),V=m(5120),I=m(2075),B=m(7814),D=m(2415),C=m(325),M=m(953),Q=m(4344),L=m(9808),it=m(7423),k=m(5245),$=m(9224),z=m(3160);function x(f,A){if(1&f){const y=d.EpF();d.TgZ(0,"button",7),d.NdJ("click",function(){return d.CHM(y),d.oxw(2).add()}),d.TgZ(1,"mat-icon",8),d._uU(2,"add"),d.qZA(),d.TgZ(3,"span"),d._uU(4,"Crear"),d.qZA()()}}function F(f,A){if(1&f&&(d.ynx(0),d.YNc(1,x,5,0,"button",6),d.BQk()),2&f){const y=d.oxw();d.xp6(1),d.Q6J("ngIf",y.sample)}}const b=function(){return["sample.create"]},w=function(){return[20,50,100]};let u=(()=>{class f{constructor(y,O,p,P,X,W){this.dialog=y,this.patientServices=O,this.sampleServices=p,this.resultService=P,this.genResultService=X,this.router=W,this.subscriptions=new T.w,this.pageDefault=1,this.perPage=10,this.orden="desc",this.filter="",this.columns=[{title:"Id",col:"id"},{title:"C\xf3digo Muestras",col:"sample_code"},{title:"Fecha de Solicitud",col:"date_sol",pipe:"dd/MM/yyyy"},{title:"Tipo de estudio",col:"study_type"},{title:"Resultado Tipo",col:"result_study_type"},{title:"Recepci\xf3n",col:"date_recep",pipe:"dd/MM/yyyy"},{title:"Entrega",col:"date_entrega",pipe:"dd/MM/yyyy"},{title:"Observaciones",col:"obs_result"},{title:"Genes",col:"genesCount",type:"genesCount"}],this.results$=this.resultService.resultsItems$,this.patient$=this.patientServices.patientOnEdit,this.sample$=this.sampleServices.sampleOnEdit}ngOnInit(){this.subscriptions.add((0,R.aj)([this.patient$,this.sample$]).subscribe(([y,O])=>{var p,P;this.patient=y||(null==O?void 0:O.patient),this.sample=O,this.getResults(this.pageDefault,this.perPage,this.filter,this.orden,null===(p=this.sample)||void 0===p?void 0:p.id,null===(P=this.patient)||void 0===P?void 0:P.id)}))}openDialog(y,O){return this.dialog.open(U.N,{width:"70vw",minWidth:"370px",height:"90vh",data:{patient:y,element:O}}).afterClosed().subscribe(X=>{var W,tt;this.resultService.setItem(null),this.genResultService.setGenResults(null),this.getResults(this.currentPage,this.perPage,this.filter,"",null===(W=this.sample)||void 0===W?void 0:W.id,null===(tt=this.patient)||void 0===tt?void 0:tt.id)})}paginatorChange(y){this.getResults(y.pageIndex+1,y.pageSize),this.currentPage=y.pageIndex+1}add(){this.openDialog(this.patient,{patient_id:this.patient.id,sample_id:this.sample.id})}getResults(y,O,p,P,X,W){this.subscriptions.add(this.resultService.getResults$(y,O,p,P,X,W).subscribe(tt=>this.loadData()))}loadData(){this.dataSource=this.results$.pipe((0,g.U)(y=>(console.log(y),y.data.data.map(p=>{var P,X,W,tt,rt;return{id:p.id,patient_id:null==p?void 0:p.patient_id,sample_id:null==p?void 0:p.sample_id,lab_name:null===(P=null==p?void 0:p.lab)||void 0===P?void 0:P.name,financing_name:null===(X=null==p?void 0:p.financing)||void 0===X?void 0:X.name,reclasificado_full:`${null==p?void 0:p.reclasificado} - ${null==p?void 0:p.reclas_obs}`,date_sol:null==p?void 0:p.date_sol,date_recep:null==p?void 0:p.date_recep,date_entrega:null==p?void 0:p.date_entrega,obs_result:null==p?void 0:p.obs_result,sample_code:null===(W=null==p?void 0:p.sample)||void 0===W?void 0:W.code,lab_id:null==p?void 0:p.lab_id,financing_id:null==p?void 0:p.financing_id,reclasificado:null==p?void 0:p.reclasificado,reclas_obs:null==p?void 0:p.reclas_obs,study_type:null===(tt=null==p?void 0:p.study_type)||void 0===tt?void 0:tt.name,result_study_type:null===(rt=null==p?void 0:p.result_study_type)||void 0===rt?void 0:rt.name,genesCount:null==p?void 0:p.gens_results,study_request_id:null==p?void 0:p.study_request_id}})))),this.totalResut=this.results$.pipe((0,g.U)(y=>y.data.total))}search(y){var O,p;this.getResults(this.pageDefault,this.perPage,y,this.orden,null===(O=this.sample)||void 0===O?void 0:O.id,null===(p=this.patient)||void 0===p?void 0:p.id)}deleteItem(y){}itemAction(y){"delete"===y.action&&this.deleteItem(y.element.id).pipe((0,t.q)(1)).subscribe(O=>console.log(O)),"edit"===y.action&&(this.subscriptions.add(this.resultService.showResult(y.element.id).subscribe()),this.openDialog(this.patient,y.element))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return f.\u0275fac=function(y){return new(y||f)(d.Y36(j.uw),d.Y36(V.$),d.Y36(I.e),d.Y36(B.L),d.Y36(D.X),d.Y36(C.F0))},f.\u0275cmp=d.Xpm({type:f,selectors:[["mvd-results"]],viewQuery:function(y,O){if(1&y&&d.Gf(E.NW,7),2&y){let p;d.iGM(p=d.CRH())&&(O.paginator=p.first)}},decls:9,vars:13,consts:[[1,"header-table"],[3,"noteFilterBy","changeSearch"],[1,"actions"],[4,"mvdPermissions"],[3,"columns","dataSource","actionChange"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"material-icons-round"]],template:function(y,O){1&y&&(d.TgZ(0,"div",0)(1,"mvd-input-search",1),d.NdJ("changeSearch",function(P){return O.search(P)}),d.qZA(),d.TgZ(2,"div",2),d.YNc(3,F,2,1,"ng-container",3),d.qZA()(),d.TgZ(4,"mat-card-content")(5,"mvd-data-table",4),d.NdJ("actionChange",function(P){return O.itemAction(P)}),d.ALo(6,"async"),d.qZA(),d.TgZ(7,"mat-paginator",5),d.NdJ("page",function(P){return O.paginatorChange(P)}),d.ALo(8,"async"),d.qZA()()),2&y&&(d.xp6(1),d.Q6J("noteFilterBy","Filtra por datos de cualquiera de las columnas"),d.xp6(2),d.Q6J("mvdPermissions",d.DdM(11,b)),d.xp6(2),d.Q6J("columns",O.columns)("dataSource",d.lcZ(6,7,O.dataSource)),d.xp6(2),d.Q6J("length",d.lcZ(8,9,O.totalResut))("pageSize",O.perPage)("pageSizeOptions",d.DdM(12,w)))},directives:[M.V,Q.$,L.O5,it.lW,k.Hw,$.dn,z.Q,E.NW],pipes:[L.Ov],styles:[""]}),f})()},7092:(ct,G,m)=>{function t(a,i,o,c){var S,v=arguments.length,_=v<3?i:null===c?c=Object.getOwnPropertyDescriptor(i,o):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(a,i,o,c);else for(var q=a.length-1;q>=0;q--)(S=a[q])&&(_=(v<3?S(_):v>3?S(i,o,_):S(i,o))||_);return v>3&&_&&Object.defineProperty(i,o,_),_}function d(a,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,i)}m.d(G,{dN:()=>Je});var u=m(5e3),f=m(3075);function A(a){return null!=a}function y(a){try{const i=new Date(a);return!isNaN(i.getTime())}catch(i){return!1}}function O(a){try{if(a._d instanceof Date){const i=a._d,o=+i.getMonth()+1,c=+i.getDate();return`${i.getFullYear()}-${p(o)}-${p(c)}`}if("object"==typeof a&&null!=a.year&&null!=a.month&&null!=a.day){const o=+a.day;return`${a.year}-${p(+a.month)}-${p(o)}`}}catch(i){}return a}function p(a){return a<10?`0${a}`:a}const P=a=>i=>{if(A(f.kI.required(i)))return null;const o=i.value;return Array.isArray(o)&&o.length>=+a?null:{arrayLength:{minLength:a}}},X=a=>A(f.kI.required(a))||/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i.test(a.value)?null:{base64:!0},W=a=>{if(A(f.kI.required(a)))return null;const o=a.value.replace(/[^0-9]+/g,"");if(!/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|(?:9792)\d{12})$/.test(o))return{creditCard:!0};let v,_,S,c=0;for(let q=o.length-1;q>=0;q--)v=o.substring(q,q+1),_=parseInt(v,10),S?(_*=2,c+=_>=10?_%10+1:_):c+=_,S=!S;return Boolean(c%10==0&&o)?null:{creditCard:!0}},tt=a=>{if(A(f.kI.required(a)))return null;let i=a.value;return i=O(i),y(i)?null:{date:!0}},rt=a=>A(f.kI.required(a))||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a.value)?null:{dateISO:!0},Jt=a=>A(f.kI.required(a))||/^\d+$/.test(a.value)?null:{digits:!0},Rt=a=>A(f.kI.required(a))||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a.value)?null:{email:!0},bt=a=>i=>A(f.kI.required(i))||a===i.value?null:{equal:{value:a}},Qt=a=>{let i=!1;return o=>(i||(i=!0,a.valueChanges.subscribe(()=>{o.updateValueAndValidity()})),a.value===o.value?null:{equalTo:{control:a,value:a.value}})},yt=a=>i=>!A(a)||A(f.kI.required(i))||+i.value>+a?null:{gt:{value:a}},St=a=>i=>!A(a)||A(f.kI.required(i))||+i.value>=+a?null:{gte:{value:a}},Bt=a=>{if(A(f.kI.required(a)))return null;const i=a.value;try{const o=JSON.parse(i);if(Boolean(o)&&"object"==typeof o)return null}catch(o){}return{json:!0}},At=a=>i=>!A(a)||A(f.kI.required(i))||+i.value<+a?null:{lt:{value:a}},Dt=a=>i=>!A(a)||A(f.kI.required(i))||+i.value<=+a?null:{lte:{value:a}},Zt=a=>i=>!A(a)||A(f.kI.required(i))||+i.value<=+a?null:{max:{value:a}},Et=a=>{let i,o=!1,c=a;const v=a instanceof f.NI||a instanceof f.On;return _=>{if(!o&&v&&(o=!0,a.valueChanges.subscribe(()=>{_.updateValueAndValidity()})),v&&(c=a.value),i=O(c),!(y(i)||i instanceof Function)){if(null==i)return null;if(v)return{maxDate:{error:"maxDate is invalid"}};throw Error("maxDate value must be or return a formatted date")}if(A(f.kI.required(_)))return null;const S=new Date(O(_.value)).getTime();return y(S)?(i instanceof Function&&(i=i()),S<=new Date(i).getTime()?null:v?{maxDate:{control:a,value:a.value}}:{maxDate:{value:c,control:void 0}}):{value:!0}}},Ot=a=>i=>!A(a)||A(f.kI.required(i))||+i.value>=+a?null:{min:{value:a}},It=a=>{let i,o=!1,c=a;const v=a instanceof f.NI||a instanceof f.On;return _=>{if(!o&&v&&(o=!0,a.valueChanges.subscribe(()=>{_.updateValueAndValidity()})),v&&(c=a.value),i=O(c),!(y(i)||i instanceof Function)){if(null==i)return null;if(v)return{minDate:{error:"minDate is invalid"}};throw Error("minDate value must be or return a formatted date")}if(A(f.kI.required(_)))return null;const S=new Date(O(_.value)).getTime();return y(S)?(i instanceof Function&&(i=i()),S>=new Date(i).getTime()?null:v?{minDate:{control:a,value:a.value}}:{minDate:{value:c,control:void 0}}):{value:!0}}},Mt=a=>i=>A(f.kI.required(i))||a!==i.value?null:{notEqual:{value:a}},kt=a=>{let i=!1;return o=>{i||(i=!0,a.valueChanges.subscribe(()=>{o.updateValueAndValidity()}));const c=o.value;return null==a.value&&null==c||a.value!==c?null:{notEqualTo:{control:a,value:a.value}}}},wt=a=>A(f.kI.required(a))||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a.value)?null:{number:!0},Nt=a=>i=>{if(A(f.kI.required(i)))return null;const o=a.split(","),c=i.value;let v=!0;for(const _ of o)if(null==c[_]){v=!1;break}return v?null:{hasProperty:{value:a}}},Ft=a=>i=>{if(!A(a)||A(f.kI.required(i)))return null;const o=+i.value;return o>=a[0]&&o<=a[1]?null:{range:{value:a}}},Ut=a=>i=>{if(!A(a)||A(f.kI.required(i)))return null;const o=i.value;return o.length>=a[0]&&o.length<=a[1]?null:{rangeLength:{value:a}}},$t={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},Pt=a=>i=>{if(A(f.kI.required(i)))return null;const o=i.value;return new RegExp($t[a]||$t.all).test(o)?null:{uuid:!0}},Yt=a=>A(f.kI.required(a))||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a.value)?null:{url:!0},Ce={provide:f.Cf,useExisting:(0,u.Gpc)(()=>Gt),multi:!0};let Gt=(()=>{let a=class{ngOnInit(){this.validator=P(this.arrayLength)}ngOnChanges(o){for(const c in o)"arrayLength"===c&&(this.validator=P(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","arrayLength","","formControlName",""],["","arrayLength","","formControl",""],["","arrayLength","","ngModel",""]],inputs:{arrayLength:"arrayLength"},features:[u._Bn([Ce]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"arrayLength",void 0),a})();const xe={provide:f.Cf,useExisting:(0,u.Gpc)(()=>jt),multi:!0};let jt=(()=>{let a=class{validate(o){return X(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","base64","","formControlName",""],["","base64","","formControl",""],["","base64","","ngModel",""]],features:[u._Bn([xe])]}),a})();const Te={provide:f.Cf,useExisting:(0,u.Gpc)(()=>Wt),multi:!0};let Wt=(()=>{let a=class{validate(o){return W(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","creditCard","","formControlName",""],["","creditCard","","formControl",""],["","creditCard","","ngModel",""]],features:[u._Bn([Te])]}),a})();const be={provide:f.Cf,useExisting:(0,u.Gpc)(()=>Kt),multi:!0};let Kt=(()=>{let a=class{validate(o){return tt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","date","","formControlName",""],["","date","","formControl",""],["","date","","ngModel",""]],features:[u._Bn([be])]}),a})();const ye={provide:f.Cf,useExisting:(0,u.Gpc)(()=>Ht),multi:!0};let Ht=(()=>{let a=class{validate(o){return rt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","dateISO","","formControlName",""],["","dateISO","","formControl",""],["","dateISO","","ngModel",""]],features:[u._Bn([ye])]}),a})();const Se={provide:f.Cf,useExisting:(0,u.Gpc)(()=>et),multi:!0};let et=(()=>{let a=class{validate(o){return Jt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","digits","","formControlName",""],["","digits","","formControl",""],["","digits","","ngModel",""]],features:[u._Bn([Se])]}),a})();const Ae={provide:f.Cf,useExisting:(0,u.Gpc)(()=>zt),multi:!0};let zt=(()=>{let a=class{validate(o){return Rt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","ngvemail","","formControlName",""],["","ngvemail","","formControl",""],["","ngvemail","","ngModel",""]],features:[u._Bn([Ae])]}),a})();const De={provide:f.Cf,useExisting:(0,u.Gpc)(()=>Xt),multi:!0};let Xt=(()=>{let a=class{ngOnInit(){this.validator=bt(this.equal)}ngOnChanges(o){for(const c in o)"equal"===c&&(this.validator=bt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","equal","","formControlName",""],["","equal","","formControl",""],["","equal","","ngModel",""]],inputs:{equal:"equal"},features:[u._Bn([De]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Object)],a.prototype,"equal",void 0),a})();const te={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ee),multi:!0};let ee=(()=>{let a=class{ngOnInit(){this.validator=Qt(this.equalTo)}validate(o){return this.validator(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","equalTo","","formControlName",""],["","equalTo","","formControl",""],["","equalTo","","ngModel",""]],inputs:{equalTo:"equalTo"},features:[u._Bn([te])]}),t([(0,u.IIB)(),d("design:type",f.NI)],a.prototype,"equalTo",void 0),a})();const Ze={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ae),multi:!0};let ae=(()=>{let a=class{ngOnInit(){this.validator=yt(this.gt)}ngOnChanges(o){for(const c in o)"gt"===c&&(this.validator=yt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","gt","","formControlName",""],["","gt","","formControl",""],["","gt","","ngModel",""]],inputs:{gt:"gt"},features:[u._Bn([Ze]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"gt",void 0),a})();const Ee={provide:f.Cf,useExisting:(0,u.Gpc)(()=>oe),multi:!0};let oe=(()=>{let a=class{ngOnInit(){this.validator=St(this.gte)}ngOnChanges(o){for(const c in o)"gte"===c&&(this.validator=St(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","gte","","formControlName",""],["","gte","","formControl",""],["","gte","","ngModel",""]],inputs:{gte:"gte"},features:[u._Bn([Ee]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"gte",void 0),a})();const Oe={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ne),multi:!0};let ne=(()=>{let a=class{validate(o){return Bt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","json","","formControlName",""],["","json","","formControl",""],["","json","","ngModel",""]],features:[u._Bn([Oe])]}),a})();const Ie={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ie),multi:!0};let ie=(()=>{let a=class{ngOnInit(){this.validator=At(this.lt)}ngOnChanges(o){for(const c in o)"lt"===c&&(this.validator=At(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","lt","","formControlName",""],["","lt","","formControl",""],["","lt","","ngModel",""]],inputs:{lt:"lt"},features:[u._Bn([Ie]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"lt",void 0),a})();const Me={provide:f.Cf,useExisting:(0,u.Gpc)(()=>mt),multi:!0};let mt=(()=>{let a=class{ngOnInit(){this.validator=Dt(this.lte)}ngOnChanges(o){for(const c in o)"lte"===c&&(this.validator=Dt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","lte","","formControlName",""],["","lte","","formControl",""],["","lte","","ngModel",""]],inputs:{lte:"lte"},features:[u._Bn([Me]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"lte",void 0),a})();const Tt={provide:f.Cf,useExisting:(0,u.Gpc)(()=>qt),multi:!0};let qt=(()=>{let a=class{ngOnInit(){this.validator=Zt(this.max)}ngOnChanges(o){for(const c in o)"max"===c&&(this.validator=Zt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","max","","formControlName",""],["","max","","formControl",""],["","max","","ngModel",""]],inputs:{max:"max"},features:[u._Bn([Tt]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"max",void 0),a})();const Vt={provide:f.Cf,useExisting:(0,u.Gpc)(()=>re),multi:!0};let re=(()=>{let a=class{ngOnInit(){this.validator=Et(this.maxDate)}ngOnChanges(o){for(const c in o)"maxDate"===c&&(this.validator=Et(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","maxDate","","formControlName",""],["","maxDate","","formControl",""],["","maxDate","","ngModel",""]],inputs:{maxDate:"maxDate"},features:[u._Bn([Vt]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Object)],a.prototype,"maxDate",void 0),a})();const le={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ut),multi:!0};let ut=(()=>{let a=class{ngOnInit(){this.validator=Ot(this.min)}ngOnChanges(o){for(const c in o)"min"===c&&(this.validator=Ot(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","min","","formControlName",""],["","min","","formControl",""],["","min","","ngModel",""]],inputs:{min:"min"},features:[u._Bn([le]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Number)],a.prototype,"min",void 0),a})();const se={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ce),multi:!0};let ce=(()=>{let a=class{ngOnInit(){this.validator=It(this.minDate)}ngOnChanges(o){for(const c in o)"minDate"===c&&(this.validator=It(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","minDate","","formControlName",""],["","minDate","","formControl",""],["","minDate","","ngModel",""]],inputs:{minDate:"minDate"},features:[u._Bn([se]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Object)],a.prototype,"minDate",void 0),a})();const Ne={provide:f.Cf,useExisting:(0,u.Gpc)(()=>me),multi:!0};let me=(()=>{let a=class{ngOnInit(){this.validator=Mt(this.notEqual)}ngOnChanges(o){for(const c in o)"notEqual"===c&&(this.validator=Mt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","notEqual","","formControlName",""],["","notEqual","","formControl",""],["","notEqual","","ngModel",""]],inputs:{notEqual:"notEqual"},features:[u._Bn([Ne]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Object)],a.prototype,"notEqual",void 0),a})();const ue={provide:f.Cf,useExisting:(0,u.Gpc)(()=>de),multi:!0};let de=(()=>{let a=class{ngOnInit(){this.validator=kt(this.notEqualTo)}validate(o){return this.validator(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","notEqualTo","","formControlName",""],["","notEqualTo","","formControl",""],["","notEqualTo","","ngModel",""]],inputs:{notEqualTo:"notEqualTo"},features:[u._Bn([ue])]}),t([(0,u.IIB)(),d("design:type",f.NI)],a.prototype,"notEqualTo",void 0),a})();const Fe={provide:f.Cf,useExisting:(0,u.Gpc)(()=>pe),multi:!0};let pe=(()=>{let a=class{validate(o){return wt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","number","","formControlName",""],["","number","","formControl",""],["","number","","ngModel",""]],features:[u._Bn([Fe])]}),a})();const Ue={provide:f.Cf,useExisting:(0,u.Gpc)(()=>_e),multi:!0};let _e=(()=>{let a=class{ngOnInit(){this.validator=Nt(this.property)}ngOnChanges(o){for(const c in o)"property"===c&&(this.validator=Nt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","property","","formControlName",""],["","property","","formControl",""],["","property","","ngModel",""]],inputs:{property:"property"},features:[u._Bn([Ue]),u.TTD]}),t([(0,u.IIB)(),d("design:type",String)],a.prototype,"property",void 0),a})();const Pe={provide:f.Cf,useExisting:(0,u.Gpc)(()=>fe),multi:!0};let fe=(()=>{let a=class{ngOnInit(){this.validator=Ft(this.range)}ngOnChanges(o){for(const c in o)"range"===c&&(this.validator=Ft(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","range","","formControlName",""],["","range","","formControl",""],["","range","","ngModel",""]],inputs:{range:"range"},features:[u._Bn([Pe]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Array)],a.prototype,"range",void 0),a})();const qe={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ge),multi:!0};let ge=(()=>{let a=class{ngOnInit(){this.validator=Ut(this.rangeLength)}ngOnChanges(o){for(const c in o)"rangeLength"===c&&(this.validator=Ut(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","rangeLength","","formControlName",""],["","rangeLength","","formControl",""],["","rangeLength","","ngModel",""]],inputs:{rangeLength:"rangeLength"},features:[u._Bn([qe]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Array)],a.prototype,"rangeLength",void 0),a})();const Ve={provide:f.Cf,useExisting:(0,u.Gpc)(()=>he),multi:!0};let he=(()=>{let a=class{validate(o){return Yt(o)}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","url","","formControlName",""],["","url","","formControl",""],["","url","","ngModel",""]],features:[u._Bn([Ve])]}),a})();const Le={provide:f.Cf,useExisting:(0,u.Gpc)(()=>ve),multi:!0};let ve=(()=>{let a=class{ngOnInit(){this.validator=Pt(this.uuid)}ngOnChanges(o){for(const c in o)"uuid"===c&&(this.validator=Pt(o[c].currentValue),this.onChange&&this.onChange())}validate(o){return this.validator(o)}registerOnValidatorChange(o){this.onChange=o}};return a.\u0275fac=function(o){return new(o||a)},a.\u0275dir=u.lG2({type:a,selectors:[["","uuid","","formControlName",""],["","uuid","","formControl",""],["","uuid","","ngModel",""]],inputs:{uuid:"uuid"},features:[u._Bn([Le]),u.TTD]}),t([(0,u.IIB)(),d("design:type",Object)],a.prototype,"uuid",void 0),a})();const Je={arrayLength:P,base64:X,creditCard:W,date:tt,dateISO:rt,digits:Jt,email:Rt,equal:bt,equalTo:Qt,gt:yt,gte:St,json:Bt,lt:At,lte:Dt,max:Zt,maxDate:Et,min:Ot,minDate:It,notEqual:Mt,notEqualTo:kt,number:wt,property:Nt,range:Ft,rangeLength:Ut,url:Yt,uuid:Pt}}}]);